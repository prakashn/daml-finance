.. Copyright (c) 2022 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved.
.. SPDX-License-Identifier: Apache-2.0

.. _module-daml-finance-instrument-swap-fpml-util-24838:

Module Daml.Finance.Instrument.Swap.Fpml.Util
=============================================

Data Types
----------

.. _type-daml-finance-instrument-swap-fpml-util-o-46768:

**type** `O <type-daml-finance-instrument-swap-fpml-util-o-46768_>`_
  \= :ref:`Observation <type-contingentclaims-core-observation-observation-91686>` `Date <https://docs.daml.com/daml/stdlib/Prelude.html#type-da-internal-lf-date-32253>`_ `Decimal <https://docs.daml.com/daml/stdlib/Prelude.html#type-ghc-types-decimal-18135>`_ :ref:`Observable <type-daml-finance-interface-claims-types-observable-47872>`

Functions
---------

.. _function-daml-finance-instrument-swap-fpml-util-createcalculationperiodicschedule-96000:

`createCalculationPeriodicSchedule <function-daml-finance-instrument-swap-fpml-util-createcalculationperiodicschedule-96000_>`_
  \: :ref:`CalculationPeriodDates <type-daml-finance-interface-types-fpml-calculationperioddates-60238>` \-\> :ref:`PeriodicSchedule <type-daml-finance-interface-types-date-schedule-periodicschedule-97930>`

  Create a schedule for calculation periods\.

.. _function-daml-finance-instrument-swap-fpml-util-createpaymentperiodicschedule-77689:

`createPaymentPeriodicSchedule <function-daml-finance-instrument-swap-fpml-util-createpaymentperiodicschedule-77689_>`_
  \: :ref:`SwapStream <type-daml-finance-interface-types-fpml-swapstream-99592>` \-\> :ref:`PeriodicSchedule <type-daml-finance-interface-types-date-schedule-periodicschedule-97930>`

  Create a schedule for payment periods\.

.. _function-daml-finance-instrument-swap-fpml-util-getcalendarsandadjust-68138:

`getCalendarsAndAdjust <function-daml-finance-instrument-swap-fpml-util-getcalendarsandadjust-68138_>`_
  \: `Date <https://docs.daml.com/daml/stdlib/Prelude.html#type-da-internal-lf-date-32253>`_ \-\> :ref:`BusinessDayAdjustments <type-daml-finance-interface-types-fpml-businessdayadjustments-91773>` \-\> `Party <https://docs.daml.com/daml/stdlib/Prelude.html#type-da-internal-lf-party-57932>`_ \-\> `Party <https://docs.daml.com/daml/stdlib/Prelude.html#type-da-internal-lf-party-57932>`_ \-\> `Update <https://docs.daml.com/daml/stdlib/Prelude.html#type-da-internal-lf-update-68072>`_ `Date <https://docs.daml.com/daml/stdlib/Prelude.html#type-da-internal-lf-date-32253>`_

  Retrieve holiday calendars and adjust a date as specified in a BusinessDayAdjustments FpML element

.. _function-daml-finance-instrument-swap-fpml-util-adjustdateaccordingtobusinessdayadjustments-16993:

`adjustDateAccordingToBusinessDayAdjustments <function-daml-finance-instrument-swap-fpml-util-adjustdateaccordingtobusinessdayadjustments-16993_>`_
  \: `Date <https://docs.daml.com/daml/stdlib/Prelude.html#type-da-internal-lf-date-32253>`_ \-\> :ref:`BusinessDayAdjustments <type-daml-finance-interface-types-fpml-businessdayadjustments-91773>` \-\> `Party <https://docs.daml.com/daml/stdlib/Prelude.html#type-da-internal-lf-party-57932>`_ \-\> `Party <https://docs.daml.com/daml/stdlib/Prelude.html#type-da-internal-lf-party-57932>`_ \-\> `Update <https://docs.daml.com/daml/stdlib/Prelude.html#type-da-internal-lf-update-68072>`_ `Date <https://docs.daml.com/daml/stdlib/Prelude.html#type-da-internal-lf-date-32253>`_

  Adjust a date as specified in a BusinessDayAdjustments FpML element (or not at all if NoAdjustment)

.. _function-daml-finance-instrument-swap-fpml-util-calculateclaimsfromfixswapstream-11157:

`calculateClaimsFromFixSwapStream <function-daml-finance-instrument-swap-fpml-util-calculateclaimsfromfixswapstream-11157_>`_
  \: :ref:`SwapStream <type-daml-finance-interface-types-fpml-swapstream-99592>` \-\> :ref:`PeriodicSchedule <type-daml-finance-interface-types-date-schedule-periodicschedule-97930>` \-\> \[:ref:`SchedulePeriod <type-daml-finance-interface-types-date-schedule-scheduleperiod-76784>`\] \-\> `Bool <https://docs.daml.com/daml/stdlib/Prelude.html#type-ghc-types-bool-66265>`_ \-\> `Bool <https://docs.daml.com/daml/stdlib/Prelude.html#type-ghc-types-bool-66265>`_ \-\> `Decimal <https://docs.daml.com/daml/stdlib/Prelude.html#type-ghc-types-decimal-18135>`_ \-\> :ref:`Deliverable <type-daml-finance-interface-claims-types-deliverable-19293>` \-\> `Update <https://docs.daml.com/daml/stdlib/Prelude.html#type-da-internal-lf-update-68072>`_ :ref:`TaggedClaim <type-daml-finance-interface-claims-types-taggedclaim-15494>`

  Create claims from swapStream that describes a fix coupon stream\.

.. _function-daml-finance-instrument-swap-fpml-util-getsinglestubrate-81189:

`getSingleStubRate <function-daml-finance-instrument-swap-fpml-util-getsinglestubrate-81189_>`_
  \: :ref:`StubFloatingRate <type-daml-finance-interface-types-fpml-stubfloatingrate-53983>` \-\> `Optional <https://docs.daml.com/daml/stdlib/Prelude.html#type-da-internal-prelude-optional-37153>`_ `O <type-daml-finance-instrument-swap-fpml-util-o-46768_>`_

  Define observable part of claim when one specific floating rate is provided for a stub period\.

.. _function-daml-finance-instrument-swap-fpml-util-getinterpolatedstubrate-67176:

`getInterpolatedStubRate <function-daml-finance-instrument-swap-fpml-util-getinterpolatedstubrate-67176_>`_
  \: :ref:`StubFloatingRate <type-daml-finance-interface-types-fpml-stubfloatingrate-53983>` \-\> :ref:`StubFloatingRate <type-daml-finance-interface-types-fpml-stubfloatingrate-53983>` \-\> :ref:`SchedulePeriod <type-daml-finance-interface-types-date-schedule-scheduleperiod-76784>` \-\> :ref:`HolidayCalendarData <type-daml-finance-interface-types-date-calendar-holidaycalendardata-60004>` \-\> :ref:`BusinessDayConventionEnum <type-daml-finance-interface-types-date-calendar-businessdayconventionenum-88986>` \-\> `Optional <https://docs.daml.com/daml/stdlib/Prelude.html#type-da-internal-prelude-optional-37153>`_ `O <type-daml-finance-instrument-swap-fpml-util-o-46768_>`_

  Linearly interpolates two rates within a period, as specified in https\://www\.isda\.org/a/aWkgE/Linear\-interpolation\-04022022\.pdf

.. _function-daml-finance-instrument-swap-fpml-util-getstubratefloating-79993:

`getStubRateFloating <function-daml-finance-instrument-swap-fpml-util-getstubratefloating-79993_>`_
  \: \[:ref:`StubFloatingRate <type-daml-finance-interface-types-fpml-stubfloatingrate-53983>`\] \-\> :ref:`SchedulePeriod <type-daml-finance-interface-types-date-schedule-scheduleperiod-76784>` \-\> :ref:`HolidayCalendarData <type-daml-finance-interface-types-date-calendar-holidaycalendardata-60004>` \-\> :ref:`BusinessDayConventionEnum <type-daml-finance-interface-types-date-calendar-businessdayconventionenum-88986>` \-\> `Optional <https://docs.daml.com/daml/stdlib/Prelude.html#type-da-internal-prelude-optional-37153>`_ `O <type-daml-finance-instrument-swap-fpml-util-o-46768_>`_

  Get the floating stub rate to be used for a stub period\.

.. _function-daml-finance-instrument-swap-fpml-util-getstubrate-16307:

`getStubRate <function-daml-finance-instrument-swap-fpml-util-getstubrate-16307_>`_
  \: :ref:`StubCalculationPeriodAmount <type-daml-finance-interface-types-fpml-stubcalculationperiodamount-24100>` \-\> `Bool <https://docs.daml.com/daml/stdlib/Prelude.html#type-ghc-types-bool-66265>`_ \-\> :ref:`SchedulePeriod <type-daml-finance-interface-types-date-schedule-scheduleperiod-76784>` \-\> :ref:`HolidayCalendarData <type-daml-finance-interface-types-date-calendar-holidaycalendardata-60004>` \-\> :ref:`BusinessDayConventionEnum <type-daml-finance-interface-types-date-calendar-businessdayconventionenum-88986>` \-\> `Optional <https://docs.daml.com/daml/stdlib/Prelude.html#type-da-internal-prelude-optional-37153>`_ `O <type-daml-finance-instrument-swap-fpml-util-o-46768_>`_

  Get the stub rate to be used for a stub period\.
  Currently, three main options from the FpML schema are supported\:

  1. A fix stubRate\.
  2. One or two floating rates for the stub\.
  3. No specific stub rate defined \-\> use the same rate as is used for regular periods\.

.. _function-daml-finance-instrument-swap-fpml-util-createfloatingratepaymentclaims-98268:

`createFloatingRatePaymentClaims <function-daml-finance-instrument-swap-fpml-util-createfloatingratepaymentclaims-98268_>`_
  \: \[:ref:`SchedulePeriod <type-daml-finance-interface-types-date-schedule-scheduleperiod-76784>`\] \-\> :ref:`PeriodicSchedule <type-daml-finance-interface-types-date-schedule-periodicschedule-97930>` \-\> `Bool <https://docs.daml.com/daml/stdlib/Prelude.html#type-ghc-types-bool-66265>`_ \-\> `Decimal <https://docs.daml.com/daml/stdlib/Prelude.html#type-ghc-types-decimal-18135>`_ \-\> `Bool <https://docs.daml.com/daml/stdlib/Prelude.html#type-ghc-types-bool-66265>`_ \-\> :ref:`DayCountConventionEnum <type-daml-finance-interface-types-date-daycount-daycountconventionenum-67281>` \-\> `Decimal <https://docs.daml.com/daml/stdlib/Prelude.html#type-ghc-types-decimal-18135>`_ \-\> :ref:`Deliverable <type-daml-finance-interface-claims-types-deliverable-19293>` \-\> :ref:`Observable <type-daml-finance-interface-claims-types-observable-47872>` \-\> :ref:`HolidayCalendarData <type-daml-finance-interface-types-date-calendar-holidaycalendardata-60004>` \-\> :ref:`SwapStream <type-daml-finance-interface-types-fpml-swapstream-99592>` \-\> `Update <https://docs.daml.com/daml/stdlib/Prelude.html#type-da-internal-lf-update-68072>`_ :ref:`TaggedClaim <type-daml-finance-interface-claims-types-taggedclaim-15494>`

  Calculate a floating rate amount for each payment date and create claims\.
  The floating rate is observed according to the FpML ResetDates component and used for the corresponding payment on the last day of that payment period\.

.. _function-daml-finance-instrument-swap-fpml-util-calculateclaimsfromfloatingswapstream-66807:

`calculateClaimsFromFloatingSwapStream <function-daml-finance-instrument-swap-fpml-util-calculateclaimsfromfloatingswapstream-66807_>`_
  \: :ref:`SwapStream <type-daml-finance-interface-types-fpml-swapstream-99592>` \-\> :ref:`PeriodicSchedule <type-daml-finance-interface-types-date-schedule-periodicschedule-97930>` \-\> \[:ref:`SchedulePeriod <type-daml-finance-interface-types-date-schedule-scheduleperiod-76784>`\] \-\> `Bool <https://docs.daml.com/daml/stdlib/Prelude.html#type-ghc-types-bool-66265>`_ \-\> `Bool <https://docs.daml.com/daml/stdlib/Prelude.html#type-ghc-types-bool-66265>`_ \-\> `Decimal <https://docs.daml.com/daml/stdlib/Prelude.html#type-ghc-types-decimal-18135>`_ \-\> :ref:`Deliverable <type-daml-finance-interface-claims-types-deliverable-19293>` \-\> `Party <https://docs.daml.com/daml/stdlib/Prelude.html#type-da-internal-lf-party-57932>`_ \-\> `Party <https://docs.daml.com/daml/stdlib/Prelude.html#type-da-internal-lf-party-57932>`_ \-\> `Update <https://docs.daml.com/daml/stdlib/Prelude.html#type-da-internal-lf-update-68072>`_ :ref:`TaggedClaim <type-daml-finance-interface-claims-types-taggedclaim-15494>`

  Create claims from swapStream that describes a floating coupon stream\.
