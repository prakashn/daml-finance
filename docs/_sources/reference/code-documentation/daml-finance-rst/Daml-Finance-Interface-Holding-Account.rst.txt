.. Copyright (c) 2022 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved.
.. SPDX-License-Identifier: Apache-2.0

.. _module-daml-finance-interface-holding-account-93234:

Module Daml.Finance.Interface.Holding.Account
=============================================

We recommend to import this module qualified\.

Interfaces
----------

.. _type-daml-finance-interface-holding-account-account-25212:

**interface** `Account <type-daml-finance-interface-holding-account-account-25212_>`_

  An interface which represents an established relationship between a provider and an owner\.
  
  **viewtype** `V <type-daml-finance-interface-holding-account-v-99213_>`_
  
  + **Choice Credit**
    
    Creates a new ``Holding`` in the corresponding ``Account``\.
    
    .. list-table::
       :widths: 15 10 30
       :header-rows: 1
    
       * - Field
         - Type
         - Description
       * - quantity
         - :ref:`Quantity <type-daml-finance-interface-types-common-quantity-79672>` :ref:`InstrumentKey <type-daml-finance-interface-types-common-instrumentkey-59982>` `Decimal <https://docs.daml.com/daml/stdlib/Prelude.html#type-ghc-types-decimal-18135>`_
         - The target ``Instrument`` and corresponding amount\.
  
  + **Choice Debit**
    
    Removes an existing ``Holding``\.
    
    .. list-table::
       :widths: 15 10 30
       :header-rows: 1
    
       * - Field
         - Type
         - Description
       * - holdingCid
         - `ContractId <https://docs.daml.com/daml/stdlib/Prelude.html#type-da-internal-lf-contractid-95282>`_ :ref:`I <type-daml-finance-interface-holding-base-i-67605>`
         - The ``Holding``'s contract id\.
  
  + **Choice GetView**
    
    Retrieves the interface view\.
    
    .. list-table::
       :widths: 15 10 30
       :header-rows: 1
    
       * - Field
         - Type
         - Description
       * - viewer
         - `Party <https://docs.daml.com/daml/stdlib/Prelude.html#type-da-internal-lf-party-57932>`_
         - The party fetching the view\.
  
  + **Choice Transfer**
    
    Transfers a ``Transferable`` to this ``Account``\.
    
    .. list-table::
       :widths: 15 10 30
       :header-rows: 1
    
       * - Field
         - Type
         - Description
       * - actors
         - :ref:`Parties <type-daml-finance-interface-types-common-parties-68320>`
         - Additional controllers of the choice\.
       * - transferableCid
         - `ContractId <https://docs.daml.com/daml/stdlib/Prelude.html#type-da-internal-lf-contractid-95282>`_ :ref:`I <type-daml-finance-interface-holding-transferable-i-13335>`
         - The ``Transferable``'s contract id\.
  
  + **Method asDisclosure \:** :ref:`I <type-daml-finance-interface-util-disclosure-i-26993>`
    
    Conversion to ``Disclosure`` interface\.
  
  + **Method credit \:** Credit \-\> `Update <https://docs.daml.com/daml/stdlib/Prelude.html#type-da-internal-lf-update-68072>`_ (`ContractId <https://docs.daml.com/daml/stdlib/Prelude.html#type-da-internal-lf-contractid-95282>`_ :ref:`I <type-daml-finance-interface-holding-base-i-67605>`)
    
    Implementation of the ``Credit`` choice\.
  
  + **Method debit \:** Debit \-\> `Update <https://docs.daml.com/daml/stdlib/Prelude.html#type-da-internal-lf-update-68072>`_ ()
    
    Implementation of the ``Debit`` choice\.
  
  + **Method getKey \:** :ref:`AccountKey <type-daml-finance-interface-types-common-accountkey-85835>`
    
    Get the unique key of the ``Account``\.
  
  + **Method transfer \:** Transfer \-\> `Update <https://docs.daml.com/daml/stdlib/Prelude.html#type-da-internal-lf-update-68072>`_ (`ContractId <https://docs.daml.com/daml/stdlib/Prelude.html#type-da-internal-lf-contractid-95282>`_ :ref:`I <type-daml-finance-interface-holding-transferable-i-13335>`)
    
    Implementation of the ``Transfer`` choice\.

Typeclasses
-----------

.. _class-daml-finance-interface-holding-account-hasimplementation-30934:

**class** `Implementation <type-daml-finance-interface-holding-account-implementation-41088_>`_ t \=\> `HasImplementation <class-daml-finance-interface-holding-account-hasimplementation-30934_>`_ t **where**


Data Types
----------

.. _type-daml-finance-interface-holding-account-i-40586:

**type** `I <type-daml-finance-interface-holding-account-i-40586_>`_
  \= `Account <type-daml-finance-interface-holding-account-account-25212_>`_
  
  Type synonym for ``Account``\.
  
  **instance** HasMethod :ref:`Factory <type-daml-finance-interface-holding-factory-account-factory-4543>` \"create'\" (Create \-\> `Update <https://docs.daml.com/daml/stdlib/Prelude.html#type-da-internal-lf-update-68072>`_ (`ContractId <https://docs.daml.com/daml/stdlib/Prelude.html#type-da-internal-lf-contractid-95282>`_ `I <type-daml-finance-interface-holding-account-i-40586_>`_))

.. _type-daml-finance-interface-holding-account-implementation-41088:

**type** `Implementation <type-daml-finance-interface-holding-account-implementation-41088_>`_ t
  \= (`HasToInterface <https://docs.daml.com/daml/stdlib/Prelude.html#class-da-internal-interface-hastointerface-68104>`_ t `I <type-daml-finance-interface-holding-account-i-40586_>`_, :ref:`Implementation <type-daml-finance-interface-util-disclosure-implementation-41553>` t)
  
  Type constraint for requiring templates to implement ``Account`` along with ``Disclosure``\.

.. _type-daml-finance-interface-holding-account-k-49276:

**type** `K <type-daml-finance-interface-holding-account-k-49276_>`_
  \= :ref:`AccountKey <type-daml-finance-interface-types-common-accountkey-85835>`
  
  Type synonym for ``AccountKey``\.

.. _type-daml-finance-interface-holding-account-r-16593:

**type** `R <type-daml-finance-interface-holding-account-r-16593_>`_
  \= Reference
  
  Type synonym for ``Reference``\. This type is currently used as a work\-around given the lack of interface keys\.

.. _type-daml-finance-interface-holding-account-transferors-14316:

**data** `Transferors <type-daml-finance-interface-holding-account-transferors-14316_>`_

  Parties involved in transfers\.
  
  .. _constr-daml-finance-interface-holding-account-transferors-48585:
  
  `Transferors <constr-daml-finance-interface-holding-account-transferors-48585_>`_
  
    .. list-table::
       :widths: 15 10 30
       :header-rows: 1
    
       * - Field
         - Type
         - Description
       * - instructors
         - :ref:`Parties <type-daml-finance-interface-types-common-parties-68320>`
         - Parties instructing a transfer (outgoing)\.
       * - approvers
         - :ref:`Parties <type-daml-finance-interface-types-common-parties-68320>`
         - Parties approving a transfer (incoming)\.
  
  **instance** `Eq <https://docs.daml.com/daml/stdlib/Prelude.html#class-ghc-classes-eq-22713>`_ `Transferors <type-daml-finance-interface-holding-account-transferors-14316_>`_
  
  **instance** `Ord <https://docs.daml.com/daml/stdlib/Prelude.html#class-ghc-classes-ord-6395>`_ `Transferors <type-daml-finance-interface-holding-account-transferors-14316_>`_
  
  **instance** `Show <https://docs.daml.com/daml/stdlib/Prelude.html#class-ghc-show-show-65360>`_ `Transferors <type-daml-finance-interface-holding-account-transferors-14316_>`_

.. _type-daml-finance-interface-holding-account-v-99213:

**type** `V <type-daml-finance-interface-holding-account-v-99213_>`_
  \= `View <type-daml-finance-interface-holding-account-view-30739_>`_
  
  Type synonym for ``View``\.

.. _type-daml-finance-interface-holding-account-view-30739:

**data** `View <type-daml-finance-interface-holding-account-view-30739_>`_

  View for ``Account``\.
  
  .. _constr-daml-finance-interface-holding-account-view-97044:
  
  `View <constr-daml-finance-interface-holding-account-view-97044_>`_
  
    .. list-table::
       :widths: 15 10 30
       :header-rows: 1
    
       * - Field
         - Type
         - Description
       * - custodian
         - `Party <https://docs.daml.com/daml/stdlib/Prelude.html#type-da-internal-lf-party-57932>`_
         - Party providing accounting services\.
       * - owner
         - `Party <https://docs.daml.com/daml/stdlib/Prelude.html#type-da-internal-lf-party-57932>`_
         - Party owning this account\.
       * - id
         - :ref:`Id <type-daml-finance-interface-types-common-id-56542>`
         - Identifier for the account\.
       * - description
         - `Text <https://docs.daml.com/daml/stdlib/Prelude.html#type-ghc-types-text-51952>`_
         - Human readable description of the account\.
       * - holdingFactoryCid
         - `ContractId <https://docs.daml.com/daml/stdlib/Prelude.html#type-da-internal-lf-contractid-95282>`_ :ref:`F <type-daml-finance-interface-holding-factory-holding-f-13397>`
         - Associated holding factory\.
       * - controllers
         - `Transferors <type-daml-finance-interface-holding-account-transferors-14316_>`_
         - Parties controlling transfers\.
  
  **instance** `Eq <https://docs.daml.com/daml/stdlib/Prelude.html#class-ghc-classes-eq-22713>`_ `View <type-daml-finance-interface-holding-account-view-30739_>`_
  
  **instance** `Show <https://docs.daml.com/daml/stdlib/Prelude.html#class-ghc-show-show-65360>`_ `View <type-daml-finance-interface-holding-account-view-30739_>`_

Functions
---------

.. _function-daml-finance-interface-holding-account-exerciseinterfacebykey-52643:

`exerciseInterfaceByKey <function-daml-finance-interface-holding-account-exerciseinterfacebykey-52643_>`_
  \: `HasExercise <https://docs.daml.com/daml/stdlib/Prelude.html#class-da-internal-template-functions-hasexercise-70422>`_ t2 d r \=\> `K <type-daml-finance-interface-holding-account-k-49276_>`_ \-\> `Party <https://docs.daml.com/daml/stdlib/Prelude.html#type-da-internal-lf-party-57932>`_ \-\> d \-\> `Update <https://docs.daml.com/daml/stdlib/Prelude.html#type-da-internal-lf-update-68072>`_ r
  
  Exercise interface by key\.
  This method can be used to exercise a choice on an ``Account`` given its ``AccountKey``\.
  Requires as input the ``AccountKey``, the actor fetching the account and the choice arguments\. For example\:
  
  .. code-block:: daml
  
    exerciseInterfaceByKey @Account.I accountKey actor Account.Debit with holdingCid

.. _function-daml-finance-interface-holding-account-tokey-33455:

`toKey <function-daml-finance-interface-holding-account-tokey-33455_>`_
  \: `View <type-daml-finance-interface-holding-account-view-30739_>`_ \-\> :ref:`AccountKey <type-daml-finance-interface-types-common-accountkey-85835>`
  
  Convert the account's 'View' to its key\.

.. _function-daml-finance-interface-holding-account-asdisclosure-23607:

`asDisclosure <function-daml-finance-interface-holding-account-asdisclosure-23607_>`_
  \: `Account <type-daml-finance-interface-holding-account-account-25212_>`_ \-\> :ref:`I <type-daml-finance-interface-util-disclosure-i-26993>`

.. _function-daml-finance-interface-holding-account-getkey-85159:

`getKey <function-daml-finance-interface-holding-account-getkey-85159_>`_
  \: `Account <type-daml-finance-interface-holding-account-account-25212_>`_ \-\> :ref:`AccountKey <type-daml-finance-interface-types-common-accountkey-85835>`

.. _function-daml-finance-interface-holding-account-credit-48777:

`credit <function-daml-finance-interface-holding-account-credit-48777_>`_
  \: `Account <type-daml-finance-interface-holding-account-account-25212_>`_ \-\> Credit \-\> `Update <https://docs.daml.com/daml/stdlib/Prelude.html#type-da-internal-lf-update-68072>`_ (`ContractId <https://docs.daml.com/daml/stdlib/Prelude.html#type-da-internal-lf-contractid-95282>`_ :ref:`I <type-daml-finance-interface-holding-base-i-67605>`)

.. _function-daml-finance-interface-holding-account-debit-23513:

`debit <function-daml-finance-interface-holding-account-debit-23513_>`_
  \: `Account <type-daml-finance-interface-holding-account-account-25212_>`_ \-\> Debit \-\> `Update <https://docs.daml.com/daml/stdlib/Prelude.html#type-da-internal-lf-update-68072>`_ ()

.. _function-daml-finance-interface-holding-account-transfer-41985:

`transfer <function-daml-finance-interface-holding-account-transfer-41985_>`_
  \: `Account <type-daml-finance-interface-holding-account-account-25212_>`_ \-\> Transfer \-\> `Update <https://docs.daml.com/daml/stdlib/Prelude.html#type-da-internal-lf-update-68072>`_ (`ContractId <https://docs.daml.com/daml/stdlib/Prelude.html#type-da-internal-lf-contractid-95282>`_ :ref:`I <type-daml-finance-interface-holding-transferable-i-13335>`)

.. _function-daml-finance-interface-holding-account-disclose-61184:

`disclose <function-daml-finance-interface-holding-account-disclose-61184_>`_
  \: (`Text <https://docs.daml.com/daml/stdlib/Prelude.html#type-ghc-types-text-51952>`_, :ref:`Parties <type-daml-finance-interface-types-common-parties-68320>`) \-\> `Party <https://docs.daml.com/daml/stdlib/Prelude.html#type-da-internal-lf-party-57932>`_ \-\> :ref:`Parties <type-daml-finance-interface-types-common-parties-68320>` \-\> `K <type-daml-finance-interface-holding-account-k-49276_>`_ \-\> `Update <https://docs.daml.com/daml/stdlib/Prelude.html#type-da-internal-lf-update-68072>`_ (`ContractId <https://docs.daml.com/daml/stdlib/Prelude.html#type-da-internal-lf-contractid-95282>`_ `I <type-daml-finance-interface-holding-account-i-40586_>`_)
  
  Disclose account\.

.. _function-daml-finance-interface-holding-account-undisclose-79867:

`undisclose <function-daml-finance-interface-holding-account-undisclose-79867_>`_
  \: (`Text <https://docs.daml.com/daml/stdlib/Prelude.html#type-ghc-types-text-51952>`_, :ref:`Parties <type-daml-finance-interface-types-common-parties-68320>`) \-\> `Party <https://docs.daml.com/daml/stdlib/Prelude.html#type-da-internal-lf-party-57932>`_ \-\> :ref:`Parties <type-daml-finance-interface-types-common-parties-68320>` \-\> `K <type-daml-finance-interface-holding-account-k-49276_>`_ \-\> `Update <https://docs.daml.com/daml/stdlib/Prelude.html#type-da-internal-lf-update-68072>`_ (`Optional <https://docs.daml.com/daml/stdlib/Prelude.html#type-da-internal-prelude-optional-37153>`_ (`ContractId <https://docs.daml.com/daml/stdlib/Prelude.html#type-da-internal-lf-contractid-95282>`_ `I <type-daml-finance-interface-holding-account-i-40586_>`_))
  
  Undisclose account\.
