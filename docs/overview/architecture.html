<!-- Copyright (c) 2022 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved. -->
<!-- SPDX-License-Identifier: Apache-2.0 -->



<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en">
<!--<![endif]-->

<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Architecture &mdash; Daml Finance  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
  
  <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
  <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
  <script src="../_static/jquery.js"></script>
  <script src="../_static/underscore.js"></script>
  <script src="../_static/doctools.js"></script>
  <script src="../_static/clipboard.min.js"></script>
  <script src="../_static/copybutton.js"></script>
  
  <script type="text/javascript" src="../_static/js/theme.js"></script>

  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
  <link rel="index" title="Index" href="../genindex.html" />
  <link rel="search" title="Search" href="../search.html" />
  <link rel="next" title="Introduction" href="../concepts/intro.html" />
  <link rel="prev" title="Introduction" href="intro.html" /> 

  
  <link rel="icon" type="image/svg+xml"  href="../_static/images/daml-logo-mark-light.svg">
  <link rel="alternate icon" href="../_static/images/daml-favicon-1.ico">

  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-MSWJMNX');</script>
  <!-- End Google Tag Manager -->
</head>

<body class="wy-body-for-nav">
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MSWJMNX"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->
   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-nav-side-shadow"></div>
      <div class="wy-side-scroll">

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
          
          
          
          
          
          <ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">Daml Finance Documentation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Overview</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Architecture</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Concepts</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../concepts/intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../concepts/asset-model.html">Asset model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../concepts/settlement.html">Settlement</a></li>
<li class="toctree-l1"><a class="reference internal" href="../concepts/lifecycling.html">Lifecycling</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Packages</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../packages/intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../packages/core-interfaces.html">Core Interfaces</a></li>
<li class="toctree-l1"><a class="reference internal" href="../packages/core-implementations.html">Core Implementations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../packages/instrument-extensions.html">Instrument Extensions</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/getting-started/intro.html">Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/getting-started/transfer.html">Transfer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/getting-started/settlement.html">Settlement</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/getting-started/lifecycling.html">Lifecycling</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/instrument-modeling/intro.html">Instrument Modeling</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/instrument-modeling/bond-extension.html">How to use the Bond extension package</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/instrument-modeling/bond-lifecycling.html">How to lifecycle a bond instrument</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/instrument-modeling/derivative-extension.html">How to use the Derivative extension to model generic instruments</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/instrument-modeling/contingent-claims-instrument.html">How to implement a Contingent Claims-based instrument</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/instrument-modeling/contingent-claims-on-ledger-vs-on-the-fly.html">Contingent Claims tree on ledger vs on-the-fly creation</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../reference/glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/index.html">Daml Finance</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Data-Observable-Observation.html">Daml.Finance.Data.Observable.Observation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Data-Reference-HolidayCalendar.html">Daml.Finance.Data.Reference.HolidayCalendar</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Holding-Account.html">Daml.Finance.Holding.Account</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Holding-Fungible.html">Daml.Finance.Holding.Fungible</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Holding-NonFungible.html">Daml.Finance.Holding.NonFungible</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Holding-NonTransferable.html">Daml.Finance.Holding.NonTransferable</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Holding-Util.html">Daml.Finance.Holding.Util</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Instrument-Bond-FixedRate-Factory.html">Daml.Finance.Instrument.Bond.FixedRate.Factory</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Instrument-Bond-FixedRate-Instrument.html">Daml.Finance.Instrument.Bond.FixedRate.Instrument</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Instrument-Bond-FloatingRate-Factory.html">Daml.Finance.Instrument.Bond.FloatingRate.Factory</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Instrument-Bond-FloatingRate-Instrument.html">Daml.Finance.Instrument.Bond.FloatingRate.Instrument</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Instrument-Bond-InflationLinked-Factory.html">Daml.Finance.Instrument.Bond.InflationLinked.Factory</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Instrument-Bond-InflationLinked-Instrument.html">Daml.Finance.Instrument.Bond.InflationLinked.Instrument</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Instrument-Bond-ZeroCoupon-Factory.html">Daml.Finance.Instrument.Bond.ZeroCoupon.Factory</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Instrument-Bond-ZeroCoupon-Instrument.html">Daml.Finance.Instrument.Bond.ZeroCoupon.Instrument</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Instrument-Equity-Factory.html">Daml.Finance.Instrument.Equity.Factory</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Instrument-Equity-Instrument.html">Daml.Finance.Instrument.Equity.Instrument</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Instrument-Generic-Election.html">Daml.Finance.Instrument.Generic.Election</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Instrument-Generic-Factory.html">Daml.Finance.Instrument.Generic.Factory</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Instrument-Generic-Instrument.html">Daml.Finance.Instrument.Generic.Instrument</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Instrument-Generic-Util.html">Daml.Finance.Instrument.Generic.Util</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Instrument-Swap-CreditDefault-Factory.html">Daml.Finance.Instrument.Swap.CreditDefault.Factory</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Instrument-Swap-CreditDefault-Instrument.html">Daml.Finance.Instrument.Swap.CreditDefault.Instrument</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Instrument-Swap-Currency-Factory.html">Daml.Finance.Instrument.Swap.Currency.Factory</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Instrument-Swap-Currency-Instrument.html">Daml.Finance.Instrument.Swap.Currency.Instrument</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Instrument-Swap-ForeignExchange-Factory.html">Daml.Finance.Instrument.Swap.ForeignExchange.Factory</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Instrument-Swap-ForeignExchange-Instrument.html">Daml.Finance.Instrument.Swap.ForeignExchange.Instrument</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Instrument-Swap-InterestRate-Factory.html">Daml.Finance.Instrument.Swap.InterestRate.Factory</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Instrument-Swap-InterestRate-Instrument.html">Daml.Finance.Instrument.Swap.InterestRate.Instrument</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Instrument-Token-Factory.html">Daml.Finance.Instrument.Token.Factory</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Instrument-Token-Instrument.html">Daml.Finance.Instrument.Token.Instrument</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Claims-Claim.html">Daml.Finance.Interface.Claims.Claim</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Claims-Types.html">Daml.Finance.Interface.Claims.Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Claims-Util.html">Daml.Finance.Interface.Claims.Util</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Claims-Util-Lifecycle.html">Daml.Finance.Interface.Claims.Util.Lifecycle</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Data-Observable.html">Daml.Finance.Interface.Data.Observable</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Holding-Account.html">Daml.Finance.Interface.Holding.Account</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Holding-Base.html">Daml.Finance.Interface.Holding.Base</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Holding-Factory-Account.html">Daml.Finance.Interface.Holding.Factory.Account</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Holding-Factory-Holding.html">Daml.Finance.Interface.Holding.Factory.Holding</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Holding-Fungible.html">Daml.Finance.Interface.Holding.Fungible</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Holding-Lockable.html">Daml.Finance.Interface.Holding.Lockable</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Holding-Transferable.html">Daml.Finance.Interface.Holding.Transferable</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Holding-Util.html">Daml.Finance.Interface.Holding.Util</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Instrument-Base-Instrument.html">Daml.Finance.Interface.Instrument.Base.Instrument</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Instrument-Bond-FixedRate-Factory.html">Daml.Finance.Interface.Instrument.Bond.FixedRate.Factory</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Instrument-Bond-FixedRate-Instrument.html">Daml.Finance.Interface.Instrument.Bond.FixedRate.Instrument</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Instrument-Bond-FixedRate-Types.html">Daml.Finance.Interface.Instrument.Bond.FixedRate.Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Instrument-Bond-FloatingRate-Factory.html">Daml.Finance.Interface.Instrument.Bond.FloatingRate.Factory</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Instrument-Bond-FloatingRate-Instrument.html">Daml.Finance.Interface.Instrument.Bond.FloatingRate.Instrument</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Instrument-Bond-FloatingRate-Types.html">Daml.Finance.Interface.Instrument.Bond.FloatingRate.Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Instrument-Bond-InflationLinked-Factory.html">Daml.Finance.Interface.Instrument.Bond.InflationLinked.Factory</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Instrument-Bond-InflationLinked-Instrument.html">Daml.Finance.Interface.Instrument.Bond.InflationLinked.Instrument</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Instrument-Bond-InflationLinked-Types.html">Daml.Finance.Interface.Instrument.Bond.InflationLinked.Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Instrument-Bond-ZeroCoupon-Factory.html">Daml.Finance.Interface.Instrument.Bond.ZeroCoupon.Factory</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Instrument-Bond-ZeroCoupon-Instrument.html">Daml.Finance.Interface.Instrument.Bond.ZeroCoupon.Instrument</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Instrument-Bond-ZeroCoupon-Types.html">Daml.Finance.Interface.Instrument.Bond.ZeroCoupon.Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Instrument-Equity-Factory.html">Daml.Finance.Interface.Instrument.Equity.Factory</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Instrument-Equity-Instrument.html">Daml.Finance.Interface.Instrument.Equity.Instrument</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Instrument-Generic-Election.html">Daml.Finance.Interface.Instrument.Generic.Election</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Instrument-Generic-Factory.html">Daml.Finance.Interface.Instrument.Generic.Factory</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Instrument-Generic-Instrument.html">Daml.Finance.Interface.Instrument.Generic.Instrument</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Instrument-Swap-CreditDefault-Factory.html">Daml.Finance.Interface.Instrument.Swap.CreditDefault.Factory</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Instrument-Swap-CreditDefault-Instrument.html">Daml.Finance.Interface.Instrument.Swap.CreditDefault.Instrument</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Instrument-Swap-CreditDefault-Types.html">Daml.Finance.Interface.Instrument.Swap.CreditDefault.Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Instrument-Swap-Currency-Factory.html">Daml.Finance.Interface.Instrument.Swap.Currency.Factory</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Instrument-Swap-Currency-Instrument.html">Daml.Finance.Interface.Instrument.Swap.Currency.Instrument</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Instrument-Swap-Currency-Types.html">Daml.Finance.Interface.Instrument.Swap.Currency.Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Instrument-Swap-ForeignExchange-Factory.html">Daml.Finance.Interface.Instrument.Swap.ForeignExchange.Factory</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Instrument-Swap-ForeignExchange-Instrument.html">Daml.Finance.Interface.Instrument.Swap.ForeignExchange.Instrument</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Instrument-Swap-ForeignExchange-Types.html">Daml.Finance.Interface.Instrument.Swap.ForeignExchange.Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Instrument-Swap-InterestRate-Factory.html">Daml.Finance.Interface.Instrument.Swap.InterestRate.Factory</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Instrument-Swap-InterestRate-Instrument.html">Daml.Finance.Interface.Instrument.Swap.InterestRate.Instrument</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Instrument-Swap-InterestRate-Types.html">Daml.Finance.Interface.Instrument.Swap.InterestRate.Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Instrument-Token-Factory.html">Daml.Finance.Interface.Instrument.Token.Factory</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Instrument-Token-Instrument.html">Daml.Finance.Interface.Instrument.Token.Instrument</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Instrument-Token-Types.html">Daml.Finance.Interface.Instrument.Token.Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Lifecycle-Clock.html">Daml.Finance.Interface.Lifecycle.Clock</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Lifecycle-Effect.html">Daml.Finance.Interface.Lifecycle.Effect</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Lifecycle-Event.html">Daml.Finance.Interface.Lifecycle.Event</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Lifecycle-Event-Distribution.html">Daml.Finance.Interface.Lifecycle.Event.Distribution</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Lifecycle-Event-Replacement.html">Daml.Finance.Interface.Lifecycle.Event.Replacement</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Lifecycle-Event-Time.html">Daml.Finance.Interface.Lifecycle.Event.Time</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Lifecycle-Rule-Claim.html">Daml.Finance.Interface.Lifecycle.Rule.Claim</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Lifecycle-Rule-Lifecycle.html">Daml.Finance.Interface.Lifecycle.Rule.Lifecycle</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Settlement-Batch.html">Daml.Finance.Interface.Settlement.Batch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Settlement-Factory.html">Daml.Finance.Interface.Settlement.Factory</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Settlement-Instruction.html">Daml.Finance.Interface.Settlement.Instruction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Settlement-Types.html">Daml.Finance.Interface.Settlement.Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Types-Common.html">Daml.Finance.Interface.Types.Common</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Types-Date-Calendar.html">Daml.Finance.Interface.Types.Date.Calendar</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Types-Date-Classes.html">Daml.Finance.Interface.Types.Date.Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Types-Date-DayCount.html">Daml.Finance.Interface.Types.Date.DayCount</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Types-Date-RollConvention.html">Daml.Finance.Interface.Types.Date.RollConvention</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Types-Date-Schedule.html">Daml.Finance.Interface.Types.Date.Schedule</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Util-Common.html">Daml.Finance.Interface.Util.Common</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Util-Disclosure.html">Daml.Finance.Interface.Util.Disclosure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Lifecycle-DateClock.html">Daml.Finance.Lifecycle.DateClock</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Lifecycle-Effect.html">Daml.Finance.Lifecycle.Effect</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Lifecycle-ElectionEffect.html">Daml.Finance.Lifecycle.ElectionEffect</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Lifecycle-Event-DateClock.html">Daml.Finance.Lifecycle.Event.DateClock</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Lifecycle-Event-Distribution.html">Daml.Finance.Lifecycle.Event.Distribution</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Lifecycle-Event-Replacement.html">Daml.Finance.Lifecycle.Event.Replacement</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Lifecycle-Rule-Claim.html">Daml.Finance.Lifecycle.Rule.Claim</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Lifecycle-Rule-Distribution.html">Daml.Finance.Lifecycle.Rule.Distribution</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Lifecycle-Rule-Replacement.html">Daml.Finance.Lifecycle.Rule.Replacement</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Lifecycle-Types.html">Daml.Finance.Lifecycle.Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Settlement-Batch.html">Daml.Finance.Settlement.Batch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Settlement-Factory.html">Daml.Finance.Settlement.Factory</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Settlement-Instruction.html">Daml.Finance.Settlement.Instruction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Util-Common.html">Daml.Finance.Util.Common</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Util-Date-Calendar.html">Daml.Finance.Util.Date.Calendar</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Util-Date-DayCount.html">Daml.Finance.Util.Date.DayCount</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Util-Date-RollConvention.html">Daml.Finance.Util.Date.RollConvention</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/code-documentation/daml-finance-rst/Daml-Finance-Util-Date-Schedule.html">Daml.Finance.Util.Date.Schedule</a></li>
</ul>
</li>
</ul>

          
          
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <div class="topbar fixed">
        
        <nav class="wy-nav-top" aria-label="top navigation">
          
          <i data-toggle="wy-nav-top" class="wy-nav-top-toggle"></i>
          
        </nav>
        <!-- Copyright (c) 2022 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved. -->
<!-- SPDX-License-Identifier: Apache-2.0 -->

<div class="navbar">
    <h1><img src="../_static/images/Daml_Logo_Blue.svg"></h1>
    <div class="navbar-menu">
        <div class="da-menu-item da-menu-depth-1" role="menu">
            <a href="https://www.digitalasset.com/developers" role="menuitem" class="da-menu-link">Developers</a>
        </div>
        <div class="da-menu-item da-menu-depth-1" role="menu">
            <a href="https://www.digitalasset.com/products" role="menuitem" class="da-menu-link">Products</a>
        </div>
        <div class="da-menu-item da-menu-depth-1" role="menu">
            <a href="https://www.digitalasset.com" role="menuitem" class="da-menu-link">Company</a>
        </div>
    </div>
</div>

        <div class="version ">
          <span class="hide-mobile">Version&nbsp;</span><span class="version_switcher_placeholder"></span>
          
        </div>


        <!-- Copyright (c) 2022 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved. -->
<!-- SPDX-License-Identifier: Apache-2.0 -->
<div class="search-inline">
    <div id="rtd-search-inline-form" class="wy-form">
        <input type="text" class="search-inline-input" placeholder="Search" name="q">
        <img src="../_static/images/Search.svg" class="search-inline-img"/>
    </div>
    <div class="search-alert">
        Please enter at least 3 letters.
    </div>
    <div id="search-inline-results" class="search-inline-results">
        
    </div>
</div>
          <!-- Copyright (c) 2022 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved. -->
<!-- SPDX-License-Identifier: Apache-2.0 -->

<div class="content-menu collapsed">
    <span class="content-menu-title">In This Section</span>
    <span class="content-menu-expand"></span>
    <div class="content-menu-wrapper">
        
        <!-- Local TOC -->
        <div class="content-menu-toc"><ul>
<li><a class="reference internal" href="#">Architecture</a><ul>
<li><a class="reference internal" href="#interface-layer">Interface layer</a></li>
<li><a class="reference internal" href="#implementation-layer">Implementation layer</a></li>
<li><a class="reference internal" href="#how-to-use-the-library">How to use the library</a></li>
<li><a class="reference internal" href="#extension-points">Extension Points</a></li>
</ul>
</li>
</ul>
</div>
        
    </div>
</div>
        

      </div>
      <div class="wy-nav-content">
        
        <div class="rst-content">
          
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div itemprop="articleBody">
                
  <div class="section" id="architecture">
<h1>Architecture<a class="headerlink" href="#architecture" title="Permalink to this headline">¶</a></h1>
<p>This page outlines the architecture of the library and the relationships
between the different packages.</p>
<p>Daml Finance consists of a set of <code class="docutils literal notranslate"><span class="pre">.dar</span></code> packages that can be divided
into two layers:</p>
<ul class="simple">
<li>an <em>interface layer</em> representing its public, stable API</li>
<li>an <em>implementation layer</em> providing a set of standard template
implementations</li>
</ul>
<p>Each package in the implementation layer only depends on packages of the
interface layer.</p>
<div class="section" id="interface-layer">
<h2>Interface layer<a class="headerlink" href="#interface-layer" title="Permalink to this headline">¶</a></h2>
<p>The interface layer provides common type definitions and a set of Daml
interface definitions. These interfaces define the API by which
implementation packages (containing concrete template definitions) can
interact with each other.</p>
<p>This layer includes several Daml packages, each grouping related business
functionality. These packages can in principle be used independently
from each other.</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">Daml.Finance.Interface.Holding</span></code> defines interfaces for holdings,
accounts, as well as holding properties such as <a class="reference internal" href="../reference/glossary.html#fungibility"><span class="std std-ref">fungibility</span></a>,
<a class="reference internal" href="../reference/glossary.html#transferability"><span class="std std-ref">transferability</span></a>, or <a class="reference internal" href="../reference/glossary.html#locking"><span class="std std-ref">locking</span></a>.</li>
<li><code class="docutils literal notranslate"><span class="pre">Daml.Finance.Interface.Settlement</span></code> defines interfaces for
settlement instructions and batched settlements.</li>
<li><code class="docutils literal notranslate"><span class="pre">Daml.Finance.Interface.Lifecycle</span></code> defines interfaces used for
instrument lifecycling.</li>
<li><code class="docutils literal notranslate"><span class="pre">Daml.Finance.Interface.Instrument.*</span></code> contains interfaces used for
different instrument types.</li>
<li><code class="docutils literal notranslate"><span class="pre">Daml.Finance.Interface.Claims</span></code> contains interfaces used for
contingent-claims based instrument types.</li>
<li><code class="docutils literal notranslate"><span class="pre">Daml.Finance.Interface.Data</span></code> defines interfaces related to reference
data.</li>
</ul>
<p>In addition to the above, the <code class="docutils literal notranslate"><span class="pre">Daml.Finance.Interface.Types</span></code> package provides types and <code class="docutils literal notranslate"><span class="pre">Daml.Finance.Interface.Util</span></code> package defines utilities and interfaces used by other interface packages.</p>
</div>
<div class="section" id="implementation-layer">
<h2>Implementation layer<a class="headerlink" href="#implementation-layer" title="Permalink to this headline">¶</a></h2>
<p>The implementation layer defines concrete template definitions
implementing the interfaces defined in the interface layer. These are
the objects that are ultimately stored on the ledger.</p>
<p>For instance, <code class="docutils literal notranslate"><span class="pre">Daml.Finance.Holding</span></code> defines a concrete implementation
of a <a class="reference internal" href="../reference/glossary.html#transferability"><span class="std std-ref">transferable</span></a>, <a class="reference internal" href="../reference/glossary.html#fungibility"><span class="std std-ref">fungible</span></a> holding. This template implements
interfaces defined in <code class="docutils literal notranslate"><span class="pre">Daml.Finance.Interface.Holding</span></code>.</p>
<p>The implementation layer consists of the following packages</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">Daml.Finance.Holding</span></code> defines default implementations for holdings,
accounts and instruments.</li>
<li><code class="docutils literal notranslate"><span class="pre">Daml.Finance.Settlement</span></code> defines templates for settlement
instructions and arbitrary batched settlements.</li>
<li><code class="docutils literal notranslate"><span class="pre">Daml.Finance.Lifecycle</span></code> defines an implementation of lifecycle
effects, as well as a rule template to facilitate their settlement.</li>
<li><code class="docutils literal notranslate"><span class="pre">Daml.Finance.Instrument.*</span></code> contains implementations for various
instrument types.</li>
<li><code class="docutils literal notranslate"><span class="pre">Daml.Finance.Data</span></code> includes templates used to store reference
data on the ledger. This data is typically used within the lifeycling
functionality (e.g. holiday calendars and rate fixings).</li>
<li><code class="docutils literal notranslate"><span class="pre">Daml.Finance.Util</span></code> package provides a set of pure utility functions
mainly for date manipulation.</li>
</ul>
</div>
<div class="section" id="how-to-use-the-library">
<h2>How to use the library<a class="headerlink" href="#how-to-use-the-library" title="Permalink to this headline">¶</a></h2>
<p>Users are expected to build their application such that it only depends
on packages of the interface layer.</p>
<p>This ensures that patches and bug-fixes can be rolled out through new
implementation packages, and existing contracts stemming from those
packages can be upgraded without affecting the customer application.</p>
<p>There are cases, however, where a customer will have to depend on
specific implementation packages. This dependency should be limited to
the minimum and typically only be required in scripts that are executed
as part of an application initialization. In this context, a tight
coupling to an implementation is not problematic, as these are
considered one-time actions.</p>
<p>The image below depicts the dependency graph of an example customer
application using Daml Finance. The <a class="reference internal" href="../tutorials/getting-started/intro.html"><span class="doc">Getting Started</span></a> examples showcase this dependency pattern.</p>
<img alt="../_images/customer_integration_example.png" src="../_images/customer_integration_example.png" />
</div>
<div class="section" id="extension-points">
<h2>Extension Points<a class="headerlink" href="#extension-points" title="Permalink to this headline">¶</a></h2>
<p>Each of the provided interfaces allows a user to extend the library with custom functionality. The important extension points are:</p>
<ul class="simple">
<li><em>Holding interface hierarchy</em>: can be implemented to support specific requirements around fungibility (e.g. fixed divisibility), transferability (e.g. transfer restrictions), or just to hold additional information required on a holding contract.</li>
<li><em>Instrument interface</em>: can be implemented to support specific financial instruments and data models (e.g. a CDM-based instrument)</li>
<li><em>Account interface</em>: can be implemented to support different account types (e.g. gold bars located at shelfs in vaults)</li>
<li><em>Settlement interfaces</em>: can be implemented to support new settlement modes (e.g. involving off-ledger legs, or HTLC-type mechanisms)</li>
<li><em>Lifecycle interfaces</em>: can be implemented to support new lifecycle events, or observation types</li>
</ul>
</div>
</div>


              
            </div>
            
            
              <!-- Copyright (c) 2022 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved. -->
<!-- SPDX-License-Identifier: Apache-2.0 -->

<footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="intro.html" class="da-btn da-btn-label btn-prev" title="Introduction" accesskey="p" rel="prev">Previous</a>
      
      
        <a href="../concepts/intro.html" class="da-btn da-btn-label btn-next" title="Introduction" accesskey="n" rel="next">Next</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        Copyright (c) 2022 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved. Any unauthorized use, duplication or distribution is strictly prohibited. &#34;Digital Asset&#34; and &#34;Daml&#34; are Registered in the U.S. Patent and Trademark Office.

    </p>
  </div> 

</footer>
            
          </div>
        </div>
      </div>
    </section>
  </div>

  <!-- Copyright (c) 2022 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved. -->
<!-- SPDX-License-Identifier: Apache-2.0 -->





  <script type="text/javascript">
    jQuery(function () {
      SphinxRtdTheme.Navigation.enable(true);
      });
  </script>


  
    
  
  <div id="inpageContent"></div>
  

</body>
</html>