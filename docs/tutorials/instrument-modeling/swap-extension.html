<!-- Copyright (c) 2022 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved. -->
<!-- SPDX-License-Identifier: Apache-2.0 -->



<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en">
<!--<![endif]-->

<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>How To Use the Swap Extension Package &mdash; Daml Finance  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
  
  <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
  <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
  <script src="../../_static/jquery.js"></script>
  <script src="../../_static/underscore.js"></script>
  <script src="../../_static/doctools.js"></script>
  <script src="../../_static/clipboard.min.js"></script>
  <script src="../../_static/copybutton.js"></script>
  
  <script type="text/javascript" src="../../_static/js/theme.js"></script>

  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
  <link rel="index" title="Index" href="../../genindex.html" />
  <link rel="search" title="Search" href="../../search.html" />
  <link rel="next" title="How To Use the Derivative Extension To Model Generic Instruments" href="derivative-extension.html" />
  <link rel="prev" title="How to Lifecycle a Bond Instrument" href="bond-lifecycling.html" /> 

  
  <link rel="icon" type="image/svg+xml"  href="../../_static/images/daml-logo-mark-light.svg">
  <link rel="alternate icon" href="../../_static/images/daml-favicon-1.ico">

  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-MSWJMNX');</script>
  <!-- End Google Tag Manager -->
</head>

<body class="wy-body-for-nav">
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MSWJMNX"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->
   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-nav-side-shadow"></div>
      <div class="wy-side-scroll">

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
          
          
          
          
          
          <ul>
<li class="toctree-l1"><a class="reference internal" href="../../index.html">Daml Finance Documentation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Overview</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../overview/intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../overview/architecture.html">Architecture</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Concepts</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../concepts/intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../concepts/asset-model.html">Asset Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../concepts/settlement.html">Settlement</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../concepts/lifecycling.html">Lifecycling</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Packages</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../packages/intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../packages/core-interfaces.html">Core Interfaces</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../packages/core-implementations.html">Core Implementations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../packages/instrument-extensions.html">Instrument Extensions</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tutorials</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../getting-started/intro.html">Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../getting-started/transfer.html">Transfer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting-started/settlement.html">Settlement</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting-started/lifecycling.html">Lifecycling</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="intro.html">Instrument Modeling</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="bond-extension.html">How to Use the Bond Extension Package</a></li>
<li class="toctree-l2"><a class="reference internal" href="bond-lifecycling.html">How to Lifecycle a Bond Instrument</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">How To Use the Swap Extension Package</a></li>
<li class="toctree-l2"><a class="reference internal" href="derivative-extension.html">How To Use the Derivative Extension To Model Generic Instruments</a></li>
<li class="toctree-l2"><a class="reference internal" href="contingent-claims-instrument.html">How to Implement a Contingent Claims-Based Instrument</a></li>
<li class="toctree-l2"><a class="reference internal" href="contingent-claims-on-ledger-vs-on-the-fly.html">Contingent Claims Tree on Ledger vs On-the-Fly Creation</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../reference/glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/index.html">Daml Finance</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Data-Observable-Observation.html">Daml.Finance.Data.Observable.Observation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Data-Reference-HolidayCalendar.html">Daml.Finance.Data.Reference.HolidayCalendar</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Holding-Account.html">Daml.Finance.Holding.Account</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Holding-Fungible.html">Daml.Finance.Holding.Fungible</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Holding-NonFungible.html">Daml.Finance.Holding.NonFungible</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Holding-NonTransferable.html">Daml.Finance.Holding.NonTransferable</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Holding-Util.html">Daml.Finance.Holding.Util</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Instrument-Bond-FixedRate-Factory.html">Daml.Finance.Instrument.Bond.FixedRate.Factory</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Instrument-Bond-FixedRate-Instrument.html">Daml.Finance.Instrument.Bond.FixedRate.Instrument</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Instrument-Bond-FloatingRate-Factory.html">Daml.Finance.Instrument.Bond.FloatingRate.Factory</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Instrument-Bond-FloatingRate-Instrument.html">Daml.Finance.Instrument.Bond.FloatingRate.Instrument</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Instrument-Bond-InflationLinked-Factory.html">Daml.Finance.Instrument.Bond.InflationLinked.Factory</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Instrument-Bond-InflationLinked-Instrument.html">Daml.Finance.Instrument.Bond.InflationLinked.Instrument</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Instrument-Bond-ZeroCoupon-Factory.html">Daml.Finance.Instrument.Bond.ZeroCoupon.Factory</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Instrument-Bond-ZeroCoupon-Instrument.html">Daml.Finance.Instrument.Bond.ZeroCoupon.Instrument</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Instrument-Equity-Factory.html">Daml.Finance.Instrument.Equity.Factory</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Instrument-Equity-Instrument.html">Daml.Finance.Instrument.Equity.Instrument</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Instrument-Generic-Election.html">Daml.Finance.Instrument.Generic.Election</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Instrument-Generic-Factory.html">Daml.Finance.Instrument.Generic.Factory</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Instrument-Generic-Instrument.html">Daml.Finance.Instrument.Generic.Instrument</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Instrument-Generic-Util.html">Daml.Finance.Instrument.Generic.Util</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Instrument-Swap-Asset-Factory.html">Daml.Finance.Instrument.Swap.Asset.Factory</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Instrument-Swap-Asset-Instrument.html">Daml.Finance.Instrument.Swap.Asset.Instrument</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Instrument-Swap-CreditDefault-Factory.html">Daml.Finance.Instrument.Swap.CreditDefault.Factory</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Instrument-Swap-CreditDefault-Instrument.html">Daml.Finance.Instrument.Swap.CreditDefault.Instrument</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Instrument-Swap-Currency-Factory.html">Daml.Finance.Instrument.Swap.Currency.Factory</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Instrument-Swap-Currency-Instrument.html">Daml.Finance.Instrument.Swap.Currency.Instrument</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Instrument-Swap-ForeignExchange-Factory.html">Daml.Finance.Instrument.Swap.ForeignExchange.Factory</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Instrument-Swap-ForeignExchange-Instrument.html">Daml.Finance.Instrument.Swap.ForeignExchange.Instrument</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Instrument-Swap-InterestRate-Factory.html">Daml.Finance.Instrument.Swap.InterestRate.Factory</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Instrument-Swap-InterestRate-Instrument.html">Daml.Finance.Instrument.Swap.InterestRate.Instrument</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Instrument-Token-Factory.html">Daml.Finance.Instrument.Token.Factory</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Instrument-Token-Instrument.html">Daml.Finance.Instrument.Token.Instrument</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Claims-Claim.html">Daml.Finance.Interface.Claims.Claim</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Claims-Types.html">Daml.Finance.Interface.Claims.Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Claims-Util.html">Daml.Finance.Interface.Claims.Util</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Claims-Util-Lifecycle.html">Daml.Finance.Interface.Claims.Util.Lifecycle</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Data-Observable.html">Daml.Finance.Interface.Data.Observable</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Holding-Account.html">Daml.Finance.Interface.Holding.Account</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Holding-Base.html">Daml.Finance.Interface.Holding.Base</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Holding-Factory-Account.html">Daml.Finance.Interface.Holding.Factory.Account</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Holding-Factory-Holding.html">Daml.Finance.Interface.Holding.Factory.Holding</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Holding-Fungible.html">Daml.Finance.Interface.Holding.Fungible</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Holding-Lockable.html">Daml.Finance.Interface.Holding.Lockable</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Holding-Transferable.html">Daml.Finance.Interface.Holding.Transferable</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Holding-Util.html">Daml.Finance.Interface.Holding.Util</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Instrument-Base-Instrument.html">Daml.Finance.Interface.Instrument.Base.Instrument</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Instrument-Bond-FixedRate-Factory.html">Daml.Finance.Interface.Instrument.Bond.FixedRate.Factory</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Instrument-Bond-FixedRate-Instrument.html">Daml.Finance.Interface.Instrument.Bond.FixedRate.Instrument</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Instrument-Bond-FixedRate-Types.html">Daml.Finance.Interface.Instrument.Bond.FixedRate.Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Instrument-Bond-FloatingRate-Factory.html">Daml.Finance.Interface.Instrument.Bond.FloatingRate.Factory</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Instrument-Bond-FloatingRate-Instrument.html">Daml.Finance.Interface.Instrument.Bond.FloatingRate.Instrument</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Instrument-Bond-FloatingRate-Types.html">Daml.Finance.Interface.Instrument.Bond.FloatingRate.Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Instrument-Bond-InflationLinked-Factory.html">Daml.Finance.Interface.Instrument.Bond.InflationLinked.Factory</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Instrument-Bond-InflationLinked-Instrument.html">Daml.Finance.Interface.Instrument.Bond.InflationLinked.Instrument</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Instrument-Bond-InflationLinked-Types.html">Daml.Finance.Interface.Instrument.Bond.InflationLinked.Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Instrument-Bond-ZeroCoupon-Factory.html">Daml.Finance.Interface.Instrument.Bond.ZeroCoupon.Factory</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Instrument-Bond-ZeroCoupon-Instrument.html">Daml.Finance.Interface.Instrument.Bond.ZeroCoupon.Instrument</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Instrument-Bond-ZeroCoupon-Types.html">Daml.Finance.Interface.Instrument.Bond.ZeroCoupon.Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Instrument-Equity-Factory.html">Daml.Finance.Interface.Instrument.Equity.Factory</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Instrument-Equity-Instrument.html">Daml.Finance.Interface.Instrument.Equity.Instrument</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Instrument-Generic-Election.html">Daml.Finance.Interface.Instrument.Generic.Election</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Instrument-Generic-Factory.html">Daml.Finance.Interface.Instrument.Generic.Factory</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Instrument-Generic-Instrument.html">Daml.Finance.Interface.Instrument.Generic.Instrument</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Instrument-Swap-Asset-Factory.html">Daml.Finance.Interface.Instrument.Swap.Asset.Factory</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Instrument-Swap-Asset-Instrument.html">Daml.Finance.Interface.Instrument.Swap.Asset.Instrument</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Instrument-Swap-Asset-Types.html">Daml.Finance.Interface.Instrument.Swap.Asset.Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Instrument-Swap-CreditDefault-Factory.html">Daml.Finance.Interface.Instrument.Swap.CreditDefault.Factory</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Instrument-Swap-CreditDefault-Instrument.html">Daml.Finance.Interface.Instrument.Swap.CreditDefault.Instrument</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Instrument-Swap-CreditDefault-Types.html">Daml.Finance.Interface.Instrument.Swap.CreditDefault.Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Instrument-Swap-Currency-Factory.html">Daml.Finance.Interface.Instrument.Swap.Currency.Factory</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Instrument-Swap-Currency-Instrument.html">Daml.Finance.Interface.Instrument.Swap.Currency.Instrument</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Instrument-Swap-Currency-Types.html">Daml.Finance.Interface.Instrument.Swap.Currency.Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Instrument-Swap-ForeignExchange-Factory.html">Daml.Finance.Interface.Instrument.Swap.ForeignExchange.Factory</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Instrument-Swap-ForeignExchange-Instrument.html">Daml.Finance.Interface.Instrument.Swap.ForeignExchange.Instrument</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Instrument-Swap-ForeignExchange-Types.html">Daml.Finance.Interface.Instrument.Swap.ForeignExchange.Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Instrument-Swap-InterestRate-Factory.html">Daml.Finance.Interface.Instrument.Swap.InterestRate.Factory</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Instrument-Swap-InterestRate-Instrument.html">Daml.Finance.Interface.Instrument.Swap.InterestRate.Instrument</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Instrument-Swap-InterestRate-Types.html">Daml.Finance.Interface.Instrument.Swap.InterestRate.Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Instrument-Token-Factory.html">Daml.Finance.Interface.Instrument.Token.Factory</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Instrument-Token-Instrument.html">Daml.Finance.Interface.Instrument.Token.Instrument</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Instrument-Token-Types.html">Daml.Finance.Interface.Instrument.Token.Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Lifecycle-Clock.html">Daml.Finance.Interface.Lifecycle.Clock</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Lifecycle-Effect.html">Daml.Finance.Interface.Lifecycle.Effect</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Lifecycle-Event.html">Daml.Finance.Interface.Lifecycle.Event</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Lifecycle-Event-Distribution.html">Daml.Finance.Interface.Lifecycle.Event.Distribution</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Lifecycle-Event-Replacement.html">Daml.Finance.Interface.Lifecycle.Event.Replacement</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Lifecycle-Event-Time.html">Daml.Finance.Interface.Lifecycle.Event.Time</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Lifecycle-Rule-Claim.html">Daml.Finance.Interface.Lifecycle.Rule.Claim</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Lifecycle-Rule-Lifecycle.html">Daml.Finance.Interface.Lifecycle.Rule.Lifecycle</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Settlement-Batch.html">Daml.Finance.Interface.Settlement.Batch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Settlement-Factory.html">Daml.Finance.Interface.Settlement.Factory</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Settlement-Instruction.html">Daml.Finance.Interface.Settlement.Instruction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Settlement-Types.html">Daml.Finance.Interface.Settlement.Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Types-Common.html">Daml.Finance.Interface.Types.Common</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Types-Date-Calendar.html">Daml.Finance.Interface.Types.Date.Calendar</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Types-Date-Classes.html">Daml.Finance.Interface.Types.Date.Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Types-Date-DayCount.html">Daml.Finance.Interface.Types.Date.DayCount</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Types-Date-RollConvention.html">Daml.Finance.Interface.Types.Date.RollConvention</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Types-Date-Schedule.html">Daml.Finance.Interface.Types.Date.Schedule</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Util-Common.html">Daml.Finance.Interface.Util.Common</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Util-Disclosure.html">Daml.Finance.Interface.Util.Disclosure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Lifecycle-DateClock.html">Daml.Finance.Lifecycle.DateClock</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Lifecycle-Effect.html">Daml.Finance.Lifecycle.Effect</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Lifecycle-ElectionEffect.html">Daml.Finance.Lifecycle.ElectionEffect</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Lifecycle-Event-DateClock.html">Daml.Finance.Lifecycle.Event.DateClock</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Lifecycle-Event-Distribution.html">Daml.Finance.Lifecycle.Event.Distribution</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Lifecycle-Event-Replacement.html">Daml.Finance.Lifecycle.Event.Replacement</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Lifecycle-Rule-Claim.html">Daml.Finance.Lifecycle.Rule.Claim</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Lifecycle-Rule-Distribution.html">Daml.Finance.Lifecycle.Rule.Distribution</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Lifecycle-Rule-Replacement.html">Daml.Finance.Lifecycle.Rule.Replacement</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Lifecycle-Types.html">Daml.Finance.Lifecycle.Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Settlement-Batch.html">Daml.Finance.Settlement.Batch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Settlement-Factory.html">Daml.Finance.Settlement.Factory</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Settlement-Instruction.html">Daml.Finance.Settlement.Instruction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Util-Common.html">Daml.Finance.Util.Common</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Util-Date-Calendar.html">Daml.Finance.Util.Date.Calendar</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Util-Date-DayCount.html">Daml.Finance.Util.Date.DayCount</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Util-Date-RollConvention.html">Daml.Finance.Util.Date.RollConvention</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Util-Date-Schedule.html">Daml.Finance.Util.Date.Schedule</a></li>
</ul>
</li>
</ul>

          
          
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <div class="topbar fixed">
        
        <nav class="wy-nav-top" aria-label="top navigation">
          
          <i data-toggle="wy-nav-top" class="wy-nav-top-toggle"></i>
          
        </nav>
        <!-- Copyright (c) 2022 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved. -->
<!-- SPDX-License-Identifier: Apache-2.0 -->

<div class="navbar">
    <h1><img src="../../_static/images/Daml_Logo_Blue.svg"></h1>
    <div class="navbar-menu">
        <div class="da-menu-item da-menu-depth-1" role="menu">
            <a href="https://www.digitalasset.com/developers" role="menuitem" class="da-menu-link">Developers</a>
        </div>
        <div class="da-menu-item da-menu-depth-1" role="menu">
            <a href="https://www.digitalasset.com/products" role="menuitem" class="da-menu-link">Products</a>
        </div>
        <div class="da-menu-item da-menu-depth-1" role="menu">
            <a href="https://www.digitalasset.com" role="menuitem" class="da-menu-link">Company</a>
        </div>
    </div>
</div>

        <div class="version ">
          <span class="hide-mobile">Version&nbsp;</span><span class="version_switcher_placeholder"></span>
          
        </div>


        <!-- Copyright (c) 2022 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved. -->
<!-- SPDX-License-Identifier: Apache-2.0 -->
<div class="search-inline">
    <div id="rtd-search-inline-form" class="wy-form">
        <input type="text" class="search-inline-input" placeholder="Search" name="q">
        <img src="../../_static/images/Search.svg" class="search-inline-img"/>
    </div>
    <div class="search-alert">
        Please enter at least 3 letters.
    </div>
    <div id="search-inline-results" class="search-inline-results">
        
    </div>
</div>
          <!-- Copyright (c) 2022 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved. -->
<!-- SPDX-License-Identifier: Apache-2.0 -->

<div class="content-menu collapsed">
    <span class="content-menu-title">In This Section</span>
    <span class="content-menu-expand"></span>
    <div class="content-menu-wrapper">
        
        <!-- Local TOC -->
        <div class="content-menu-toc"><ul>
<li><a class="reference internal" href="#">How To Use the Swap Extension Package</a><ul>
<li><a class="reference internal" href="#prerequisites">Prerequisites</a></li>
<li><a class="reference internal" href="#how-to-create-a-swap-instrument">How To Create a Swap Instrument</a><ul>
<li><a class="reference internal" href="#interest-rate">Interest Rate</a></li>
<li><a class="reference internal" href="#currency">Currency</a></li>
<li><a class="reference internal" href="#foreign-exchange">Foreign Exchange</a></li>
<li><a class="reference internal" href="#credit-default">Credit Default</a></li>
<li><a class="reference internal" href="#asset">Asset</a></li>
</ul>
</li>
<li><a class="reference internal" href="#frequently-asked-questions">Frequently Asked Questions</a><ul>
<li><a class="reference internal" href="#why-do-the-swaps-have-an-issuer">Why do the swaps have an issuer?</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
        
    </div>
</div>
        

      </div>
      <div class="wy-nav-content">
        
        <div class="rst-content">
          
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div itemprop="articleBody">
                
  <div class="section" id="how-to-use-the-swap-extension-package">
<h1>How To Use the Swap Extension Package<a class="headerlink" href="#how-to-use-the-swap-extension-package" title="Permalink to this headline">¶</a></h1>
<p>To follow the script used in this tutorial you can <a class="reference external" href="https://github.com/digital-asset/daml-finance">clone the Daml Finance repository</a>.
In particular, the Swap test folder <code class="docutils literal notranslate"><span class="pre">src/test/daml/Daml/Finance/Instrument/Swap/Test/</span></code> is the starting point
of this tutorial.</p>
<div class="section" id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h2>
<p>The Swap extension has many similarities with the Bond extension. This tutorial builds on the Bond tutorials,
in particular the <a class="reference internal" href="bond-extension.html"><span class="doc">Bond Extension</span></a> and the <a class="reference internal" href="bond-lifecycling.html"><span class="doc">Bond Lifecycling</span></a> tutorials.
Please check them out before reading the Swap specifics below.</p>
</div>
<div class="section" id="how-to-create-a-swap-instrument">
<h2>How To Create a Swap Instrument<a class="headerlink" href="#how-to-create-a-swap-instrument" title="Permalink to this headline">¶</a></h2>
<p>There are different types of swaps, which differ both in the way regular payments are defined and whether notional is
exchanged.
In order to create a swap instrument you first have to decide what type of swap you need.
The swap extension package currently supports the following types of swaps:</p>
<div class="section" id="interest-rate">
<h3>Interest Rate<a class="headerlink" href="#interest-rate" title="Permalink to this headline">¶</a></h3>
<p>Interest rate swap is the type of swap that shares most similarities with a bond.
It has two legs: one which pays a fix rate and another one which pays a floating rate.
These rates are paid at the end of every payment period.</p>
<p>As an example we will create a swap instrument paying Libor 3M vs a 2.01% p.a. with a 3M payment period.
This example is taken from <code class="docutils literal notranslate"><span class="pre">src/test/daml/Daml/Finance/Instrument/Swap/Test/InterestRate.daml</span></code>,
where all the details are available.</p>
<p>We start by defining the terms:</p>
<div class="highlight-daml notranslate"><div class="highlight"><pre><span></span><span class="w">  </span><span class="kr">let</span><span class="w"></span>
<span class="w">    </span><span class="n">issueDate</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">date</span><span class="w"> </span><span class="mi">2019</span><span class="w"> </span><span class="kt">Jan</span><span class="w"> </span><span class="mi">16</span><span class="w"></span>
<span class="w">    </span><span class="n">firstPaymentDate</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">date</span><span class="w"> </span><span class="mi">2019</span><span class="w"> </span><span class="kt">Feb</span><span class="w"> </span><span class="mi">15</span><span class="w"></span>
<span class="w">    </span><span class="n">maturityDate</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">date</span><span class="w"> </span><span class="mi">2019</span><span class="w"> </span><span class="kt">May</span><span class="w"> </span><span class="mi">15</span><span class="w"></span>
<span class="w">    </span><span class="n">referenceRateId</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="s">&quot;USD/LIBOR/3M&quot;</span><span class="w"></span>
<span class="w">    </span><span class="n">issuerPaysFix</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kc">False</span><span class="w"></span>
<span class="w">    </span><span class="n">fixRate</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="mf">0.0201</span><span class="w"></span>
<span class="w">    </span><span class="n">paymentPeriod</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">M</span><span class="w"></span>
<span class="w">    </span><span class="n">paymentPeriodMultiplier</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="mi">3</span><span class="w"></span>
<span class="w">    </span><span class="n">dayCountConvention</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">Act360</span><span class="w"></span>
<span class="w">    </span><span class="n">businessDayConvention</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">ModifiedFollowing</span><span class="w"></span>
</pre></div>
</div>
<p>The floating leg depends on a reference rate, which is defined by the <em>referenceRateId</em> variable.</p>
<p>The <em>issuerPaysFix</em> variable is used to specifiy whether the issuer pays the fix or the floating leg.
This is not needed for bonds, because the regular payments are always in one direction (from the issuer to the holder).
However, in the case of a swap with two counterparties A and B, we need the <em>issuerPaysFix</em> variable to specify who pays fix and who pays floating.
In this example, the issuer pays the floating leg.</p>
<p>Just as for bonds, we can use these variables to create a <a class="reference internal" href="../../reference/code-documentation/daml-finance-rst/Daml-Finance-Interface-Types-Date-Schedule.html#constr-daml-finance-interface-types-date-schedule-periodicschedule-99705"><span class="std std-ref">PeriodicSchedule</span></a>:</p>
<div class="highlight-daml notranslate"><div class="highlight"><pre><span></span><span class="w">  </span><span class="kr">let</span><span class="w"></span>
<span class="w">    </span><span class="p">(</span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">d</span><span class="p">)</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">toGregorian</span><span class="w"> </span><span class="n">firstCouponDate</span><span class="w"></span>
<span class="w">    </span><span class="n">periodicSchedule</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">PeriodicSchedule</span><span class="w"> </span><span class="kr">with</span><span class="w"></span>
<span class="w">      </span><span class="n">businessDayAdjustment</span><span class="w"> </span><span class="ow">=</span><span class="w"></span>
<span class="w">        </span><span class="kt">BusinessDayAdjustment</span><span class="w"> </span><span class="kr">with</span><span class="w"></span>
<span class="w">          </span><span class="n">calendarIds</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">holidayCalendarIds</span><span class="w"></span>
<span class="w">          </span><span class="n">convention</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">businessDayConvention</span><span class="w"></span>
<span class="w">      </span><span class="n">effectiveDateBusinessDayAdjustment</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">None</span><span class="w"></span>
<span class="w">      </span><span class="n">terminationDateBusinessDayAdjustment</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">None</span><span class="w"></span>
<span class="w">      </span><span class="n">frequency</span><span class="w"> </span><span class="ow">=</span><span class="w"></span>
<span class="w">        </span><span class="kt">Frequency</span><span class="w"> </span><span class="kr">with</span><span class="w"></span>
<span class="w">          </span><span class="n">rollConvention</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">DOM</span><span class="w"> </span><span class="n">d</span><span class="w"></span>
<span class="w">          </span><span class="n">period</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">couponPeriod</span><span class="w"></span>
<span class="w">          </span><span class="n">periodMultiplier</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">couponPeriodMultiplier</span><span class="w"></span>
<span class="w">      </span><span class="n">effectiveDate</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">issueDate</span><span class="w"></span>
<span class="w">      </span><span class="n">firstRegularPeriodStartDate</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">Some</span><span class="w"> </span><span class="n">firstCouponDate</span><span class="w"></span>
<span class="w">      </span><span class="n">lastRegularPeriodEndDate</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">Some</span><span class="w"> </span><span class="n">maturityDate</span><span class="w"></span>
<span class="w">      </span><span class="n">stubPeriodType</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">None</span><span class="w"></span>
<span class="w">      </span><span class="n">terminationDate</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">maturityDate</span><span class="w"></span>
</pre></div>
</div>
<p>Now that we have defined the terms we can create the swap instrument:</p>
<div class="highlight-daml notranslate"><div class="highlight"><pre><span></span><span class="w">  </span><span class="n">cid</span><span class="w"> </span><span class="ow">&lt;-</span><span class="w"> </span><span class="n">toInterfaceContractId</span><span class="w"> </span><span class="o">&lt;$&gt;</span><span class="w"> </span><span class="n">submitMulti</span><span class="w"> </span><span class="p">[</span><span class="n">depository</span><span class="p">,</span><span class="w"> </span><span class="n">issuer</span><span class="p">]</span><span class="w"> </span><span class="kt">[]</span><span class="w"> </span><span class="kr">do</span><span class="w"></span>
<span class="w">    </span><span class="n">createCmd</span><span class="w"> </span><span class="kt">InterestRateSwap</span><span class="o">.</span><span class="kt">Instrument</span><span class="w"> </span><span class="kr">with</span><span class="w"> </span><span class="n">depository</span><span class="p">;</span><span class="w"> </span><span class="n">issuer</span><span class="p">;</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">Id</span><span class="w"> </span><span class="n">label</span><span class="p">;</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="s">&quot;0&quot;</span><span class="p">;</span><span class="w"> </span><span class="n">description</span><span class="p">;</span><span class="w"> </span><span class="n">observers</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">M</span><span class="o">.</span><span class="n">fromList</span><span class="w"> </span><span class="n">observers</span><span class="p">;</span><span class="w"> </span><span class="n">lastEventTimestamp</span><span class="p">;</span><span class="w"> </span><span class="n">periodicSchedule</span><span class="p">;</span><span class="w"> </span><span class="n">holidayCalendarIds</span><span class="p">;</span><span class="w"> </span><span class="n">calendarDataProvider</span><span class="p">;</span><span class="w"> </span><span class="n">dayCountConvention</span><span class="p">;</span><span class="w"> </span><span class="n">issuerPaysFix</span><span class="p">;</span><span class="w"> </span><span class="n">fixRate</span><span class="p">;</span><span class="w"> </span><span class="n">referenceRateId</span><span class="p">;</span><span class="w"> </span><span class="n">currency</span><span class="w"></span>
</pre></div>
</div>
<p>Once the instrument is created, you can book a holding on it using <code class="docutils literal notranslate"><span class="pre">Account.credit</span></code>.
Since the issuer pays the floating leg in our example, the owner of the holding receives the floating leg (and pays the fix leg).</p>
</div>
<div class="section" id="currency">
<h3>Currency<a class="headerlink" href="#currency" title="Permalink to this headline">¶</a></h3>
<p>Currency swaps are quite similar to interest rate swaps, except that the two legs are in different currencies.
Consequently, we need to create two cash instruments:</p>
<div class="highlight-daml notranslate"><div class="highlight"><pre><span></span><span class="w">  </span><span class="n">cashInstrumentCid</span><span class="w"> </span><span class="ow">&lt;-</span><span class="w"> </span><span class="kt">Instrument</span><span class="o">.</span><span class="n">originate</span><span class="w"> </span><span class="n">custodian</span><span class="w"> </span><span class="n">issuer</span><span class="w"> </span><span class="s">&quot;USD&quot;</span><span class="w"> </span><span class="s">&quot;US Dollars&quot;</span><span class="w"> </span><span class="n">observers</span><span class="w"> </span><span class="n">now</span><span class="w"></span>
<span class="w">  </span><span class="n">foreignCashInstrumentCid</span><span class="w"> </span><span class="ow">&lt;-</span><span class="w"> </span><span class="kt">Instrument</span><span class="o">.</span><span class="n">originate</span><span class="w"> </span><span class="n">custodian</span><span class="w"> </span><span class="n">issuer</span><span class="w"> </span><span class="s">&quot;EUR&quot;</span><span class="w"> </span><span class="s">&quot;Euro&quot;</span><span class="w"> </span><span class="n">observers</span><span class="w"> </span><span class="n">now</span><span class="w"></span>
</pre></div>
</div>
<p>In the swap template they are referred to as <em>base currency</em> and <em>foreign currency</em>.</p>
<p>Here is an example of a fix vs fix currency swap: 3% p.a. in USD vs 2% p.a. in EUR, payment every 3M:</p>
<div class="highlight-daml notranslate"><div class="highlight"><pre><span></span><span class="w">  </span><span class="kr">let</span><span class="w"></span>
<span class="w">    </span><span class="n">issueDate</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">date</span><span class="w"> </span><span class="mi">2019</span><span class="w"> </span><span class="kt">Jan</span><span class="w"> </span><span class="mi">16</span><span class="w"></span>
<span class="w">    </span><span class="n">firstPaymentDate</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">date</span><span class="w"> </span><span class="mi">2019</span><span class="w"> </span><span class="kt">Feb</span><span class="w"> </span><span class="mi">15</span><span class="w"></span>
<span class="w">    </span><span class="n">maturityDate</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">date</span><span class="w"> </span><span class="mi">2019</span><span class="w"> </span><span class="kt">May</span><span class="w"> </span><span class="mi">15</span><span class="w"></span>
<span class="w">    </span><span class="n">issuerPaysBase</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kc">False</span><span class="w"></span>
<span class="w">    </span><span class="n">baseRate</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="mf">0.03</span><span class="w"></span>
<span class="w">    </span><span class="n">foreignRate</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="mf">0.02</span><span class="w"></span>
<span class="w">    </span><span class="n">fxRate</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="mf">1.1</span><span class="w"></span>
<span class="w">    </span><span class="n">paymentPeriod</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">M</span><span class="w"></span>
<span class="w">    </span><span class="n">paymentPeriodMultiplier</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="mi">3</span><span class="w"></span>
<span class="w">    </span><span class="n">dayCountConvention</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">Act360</span><span class="w"></span>
<span class="w">    </span><span class="n">businessDayConvention</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">ModifiedFollowing</span><span class="w"></span>
</pre></div>
</div>
<p>In this example, the issuer pays the foreign currency leg.</p>
<p>In order to calculate the interest rate payments, a notional is required in each currency.
The quantity of the holding refers to the notional of the base currency.
The notional of the foreign currency is defined as the quantity of the holding multiplied by the specified <em>fxRate</em>.</p>
<p>Here is how we create the currency swap instrument, using the two currencies defined above:</p>
<div class="highlight-daml notranslate"><div class="highlight"><pre><span></span><span class="w">  </span><span class="n">cid</span><span class="w"> </span><span class="ow">&lt;-</span><span class="w"> </span><span class="n">toInterfaceContractId</span><span class="w"> </span><span class="o">&lt;$&gt;</span><span class="w"> </span><span class="n">submitMulti</span><span class="w"> </span><span class="p">[</span><span class="n">depository</span><span class="p">,</span><span class="w"> </span><span class="n">issuer</span><span class="p">]</span><span class="w"> </span><span class="kt">[]</span><span class="w"> </span><span class="kr">do</span><span class="w"></span>
<span class="w">    </span><span class="n">createCmd</span><span class="w"> </span><span class="kt">CurrencySwap</span><span class="o">.</span><span class="kt">Instrument</span><span class="w"> </span><span class="kr">with</span><span class="w"> </span><span class="n">depository</span><span class="p">;</span><span class="w"> </span><span class="n">issuer</span><span class="p">;</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">Id</span><span class="w"> </span><span class="n">label</span><span class="p">;</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="s">&quot;0&quot;</span><span class="p">;</span><span class="w"> </span><span class="n">description</span><span class="p">;</span><span class="w"> </span><span class="n">observers</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">M</span><span class="o">.</span><span class="n">fromList</span><span class="w"> </span><span class="n">observers</span><span class="p">;</span><span class="w"> </span><span class="n">lastEventTimestamp</span><span class="p">;</span><span class="w"> </span><span class="n">periodicSchedule</span><span class="p">;</span><span class="w"> </span><span class="n">holidayCalendarIds</span><span class="p">;</span><span class="w"> </span><span class="n">calendarDataProvider</span><span class="p">;</span><span class="w"> </span><span class="n">dayCountConvention</span><span class="p">;</span><span class="w"> </span><span class="n">issuerPaysBase</span><span class="p">;</span><span class="w"> </span><span class="n">baseRate</span><span class="p">;</span><span class="w"> </span><span class="n">foreignRate</span><span class="p">;</span><span class="w"> </span><span class="n">baseCurrency</span><span class="p">;</span><span class="w"> </span><span class="n">foreignCurrency</span><span class="p">;</span><span class="w"> </span><span class="n">fxRate</span><span class="w"></span>
</pre></div>
</div>
<p>Once the instrument is created, you can book a holding on it.
Since the issuer pays the foreign currency leg in our example, it means that the owner of the holding receives the foreign currency leg (and pays the base currency leg).</p>
</div>
<div class="section" id="foreign-exchange">
<h3>Foreign Exchange<a class="headerlink" href="#foreign-exchange" title="Permalink to this headline">¶</a></h3>
<p>Despite the similarities in name, foreign exchange swaps (or FX swaps) are quite different from currency swaps.
An FX swap does not pay or receive interest.
Instead, the two legs define an initial FX transaction and a final FX transaction.
Each transaction requires an FX rate and a transaction date, which are predetermined between the counterparties.</p>
<p>The FX transactions involve two currencies. In the swap template these are referred to as <em>base currency</em> and <em>foreign currency</em>.
The convention is that the issuer pays the foreign currency in the initial transaction (and receives it in the final transaction).</p>
<p>Here is an example of an USD vs EUR FX swap. First, we define the two cash instruments:</p>
<div class="highlight-daml notranslate"><div class="highlight"><pre><span></span><span class="w">  </span><span class="n">cashInstrumentCid</span><span class="w"> </span><span class="ow">&lt;-</span><span class="w"> </span><span class="kt">Instrument</span><span class="o">.</span><span class="n">originate</span><span class="w"> </span><span class="n">custodian</span><span class="w"> </span><span class="n">issuer</span><span class="w"> </span><span class="s">&quot;USD&quot;</span><span class="w"> </span><span class="s">&quot;US Dollars&quot;</span><span class="w"> </span><span class="n">observers</span><span class="w"> </span><span class="n">now</span><span class="w"></span>
<span class="w">  </span><span class="n">foreignCashInstrumentCid</span><span class="w"> </span><span class="ow">&lt;-</span><span class="w"> </span><span class="kt">Instrument</span><span class="o">.</span><span class="n">originate</span><span class="w"> </span><span class="n">custodian</span><span class="w"> </span><span class="n">issuer</span><span class="w"> </span><span class="s">&quot;EUR&quot;</span><span class="w"> </span><span class="s">&quot;Euro&quot;</span><span class="w"> </span><span class="n">observers</span><span class="w"> </span><span class="n">now</span><span class="w"></span>
</pre></div>
</div>
<p>Then, we define the transaction dates and FX rates:</p>
<div class="highlight-daml notranslate"><div class="highlight"><pre><span></span><span class="w">  </span><span class="kr">let</span><span class="w"></span>
<span class="w">    </span><span class="n">issueDate</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">date</span><span class="w"> </span><span class="mi">2019</span><span class="w"> </span><span class="kt">Jan</span><span class="w"> </span><span class="mi">16</span><span class="w"></span>
<span class="w">    </span><span class="n">firstPaymentDate</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">date</span><span class="w"> </span><span class="mi">2019</span><span class="w"> </span><span class="kt">Feb</span><span class="w"> </span><span class="mi">15</span><span class="w"></span>
<span class="w">    </span><span class="n">maturityDate</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">date</span><span class="w"> </span><span class="mi">2019</span><span class="w"> </span><span class="kt">May</span><span class="w"> </span><span class="mi">15</span><span class="w"></span>
<span class="w">    </span><span class="n">firstFxRate</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="mf">1.1</span><span class="w"></span>
<span class="w">    </span><span class="n">finalFxRate</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="mf">1.2</span><span class="w"></span>
</pre></div>
</div>
<p>The <em>firstPaymentDate</em> variable defines the date of the initial FX transaction. Generally, this is on the issue date or shortly afterwards.</p>
<p>Finally, we create the FX swap instrument:</p>
<div class="highlight-daml notranslate"><div class="highlight"><pre><span></span><span class="w">  </span><span class="n">cid</span><span class="w"> </span><span class="ow">&lt;-</span><span class="w"> </span><span class="n">toInterfaceContractId</span><span class="w"> </span><span class="o">&lt;$&gt;</span><span class="w"> </span><span class="n">submitMulti</span><span class="w"> </span><span class="p">[</span><span class="n">depository</span><span class="p">,</span><span class="w"> </span><span class="n">issuer</span><span class="p">]</span><span class="w"> </span><span class="kt">[]</span><span class="w"> </span><span class="kr">do</span><span class="w"></span>
<span class="w">    </span><span class="n">createCmd</span><span class="w"> </span><span class="kt">ForeignExchange</span><span class="o">.</span><span class="kt">Instrument</span><span class="w"> </span><span class="kr">with</span><span class="w"> </span><span class="n">depository</span><span class="p">;</span><span class="w"> </span><span class="n">issuer</span><span class="p">;</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">Id</span><span class="w"> </span><span class="n">label</span><span class="p">;</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="s">&quot;0&quot;</span><span class="p">;</span><span class="w"> </span><span class="n">description</span><span class="p">;</span><span class="w"> </span><span class="n">observers</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">M</span><span class="o">.</span><span class="n">fromList</span><span class="w"> </span><span class="n">observers</span><span class="p">;</span><span class="w"> </span><span class="n">lastEventTimestamp</span><span class="p">;</span><span class="w"> </span><span class="n">firstFxRate</span><span class="p">;</span><span class="w"> </span><span class="n">finalFxRate</span><span class="p">;</span><span class="w"> </span><span class="n">issueDate</span><span class="p">;</span><span class="w"> </span><span class="n">firstPaymentDate</span><span class="p">;</span><span class="w"> </span><span class="n">maturityDate</span><span class="p">,</span><span class="w"> </span><span class="n">baseCurrency</span><span class="p">;</span><span class="w"> </span><span class="n">foreignCurrency</span><span class="w"></span>
</pre></div>
</div>
<p>Once the instrument is created, you can book a holding on it.
Since the issuer pays the foreign currency in the initial transaction, it means that the owner of the holding receives the foreign currency in the initial transaction.
In the final transaction the sides are reversed.</p>
</div>
<div class="section" id="credit-default">
<h3>Credit Default<a class="headerlink" href="#credit-default" title="Permalink to this headline">¶</a></h3>
<p>A credit default swap (CDS) pays a protection amount in case of a credit default event, in exchange for a fix rate at the end of every payment period.
The protection amount is defined as <em>1-recoveryRate</em>.</p>
<p>If a credit event occurs, the swap expires after the protection amount has been paid (i.e. no more rate payments are required afterwards).</p>
<p>Here is an example of a CDS that pays <em>1-recoveryRate</em> in the case of a default on TSLA bonds:</p>
<div class="highlight-daml notranslate"><div class="highlight"><pre><span></span><span class="w">  </span><span class="kr">let</span><span class="w"></span>
<span class="w">    </span><span class="n">issueDate</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">date</span><span class="w"> </span><span class="mi">2019</span><span class="w"> </span><span class="kt">Jan</span><span class="w"> </span><span class="mi">16</span><span class="w"></span>
<span class="w">    </span><span class="n">firstPaymentDate</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">date</span><span class="w"> </span><span class="mi">2019</span><span class="w"> </span><span class="kt">Feb</span><span class="w"> </span><span class="mi">15</span><span class="w"></span>
<span class="w">    </span><span class="n">maturityDate</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">date</span><span class="w"> </span><span class="mi">2019</span><span class="w"> </span><span class="kt">May</span><span class="w"> </span><span class="mi">15</span><span class="w"></span>
<span class="w">    </span><span class="n">defaultProbabilityReferenceId</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="s">&quot;TSLA-DEFAULT-PROB&quot;</span><span class="w"></span>
<span class="w">    </span><span class="n">recoveryRateReferenceId</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="s">&quot;TSLA-RECOVERY-RATE&quot;</span><span class="w"></span>
<span class="w">    </span><span class="n">issuerPaysFix</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kc">False</span><span class="w"></span>
<span class="w">    </span><span class="n">fixRate</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="mf">0.0201</span><span class="w"></span>
<span class="w">    </span><span class="n">paymentPeriod</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">M</span><span class="w"></span>
<span class="w">    </span><span class="n">paymentPeriodMultiplier</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="mi">3</span><span class="w"></span>
<span class="w">    </span><span class="n">dayCountConvention</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">Act360</span><span class="w"></span>
<span class="w">    </span><span class="n">businessDayConvention</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">ModifiedFollowing</span><span class="w"></span>
</pre></div>
</div>
<p>In our example, the issuer pays the protection leg of the swap.</p>
<p>As you can see in this example, two observables are required for a CDS:</p>
<ol class="arabic simple">
<li><em>defaultProbabilityReferenceId</em>: The reference ID of the default probability observable. For example, in case of protection against a “TSLA bond payment default” this should be a valid reference to the “TSLA default probability”.</li>
<li><em>recoveryRateReferenceId</em>: The reference ID of the recovery rate observable. For example, in case of a “TSLA bond payment default with a 60% recovery rate” this should be a valid reference to the “TSLA bond recovery rate”.</li>
</ol>
<p>Finally, we create the CDS instrument:</p>
<div class="highlight-daml notranslate"><div class="highlight"><pre><span></span><span class="w">  </span><span class="n">cid</span><span class="w"> </span><span class="ow">&lt;-</span><span class="w"> </span><span class="n">toInterfaceContractId</span><span class="w"> </span><span class="o">&lt;$&gt;</span><span class="w"> </span><span class="n">submitMulti</span><span class="w"> </span><span class="p">[</span><span class="n">depository</span><span class="p">,</span><span class="w"> </span><span class="n">issuer</span><span class="p">]</span><span class="w"> </span><span class="kt">[]</span><span class="w"> </span><span class="kr">do</span><span class="w"></span>
<span class="w">    </span><span class="n">createCmd</span><span class="w"> </span><span class="kt">CreditDefaultSwap</span><span class="o">.</span><span class="kt">Instrument</span><span class="w"> </span><span class="kr">with</span><span class="w"> </span><span class="n">depository</span><span class="p">;</span><span class="w"> </span><span class="n">issuer</span><span class="p">;</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">Id</span><span class="w"> </span><span class="n">label</span><span class="p">;</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="s">&quot;0&quot;</span><span class="p">;</span><span class="w"> </span><span class="n">description</span><span class="p">;</span><span class="w"> </span><span class="n">observers</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">M</span><span class="o">.</span><span class="n">fromList</span><span class="w"> </span><span class="n">observers</span><span class="p">;</span><span class="w"> </span><span class="n">lastEventTimestamp</span><span class="p">;</span><span class="w"> </span><span class="n">periodicSchedule</span><span class="p">;</span><span class="w"> </span><span class="n">holidayCalendarIds</span><span class="p">;</span><span class="w"> </span><span class="n">calendarDataProvider</span><span class="p">;</span><span class="w"> </span><span class="n">dayCountConvention</span><span class="p">;</span><span class="w"> </span><span class="n">issuerPaysFix</span><span class="p">;</span><span class="w"> </span><span class="n">fixRate</span><span class="p">;</span><span class="w"> </span><span class="n">defaultProbabilityReferenceId</span><span class="p">;</span><span class="w"> </span><span class="n">recoveryRateReferenceId</span><span class="p">;</span><span class="w"> </span><span class="n">currency</span><span class="w"></span>
</pre></div>
</div>
<p>Once the instrument is created, you can book a holding on it.
Since the issuer pays the protection leg, it means that the owner of the holding receives the protection leg (and pays the fix leg).</p>
</div>
<div class="section" id="asset">
<h3>Asset<a class="headerlink" href="#asset" title="Permalink to this headline">¶</a></h3>
<p>An asset swap is a general type of swap with two legs: one which pays a fix rate and another one which pays the performance of an asset.
It can be used to model:</p>
<ul class="simple">
<li>equity swaps</li>
<li>some types of commodity swaps (of the form <em>performance vs rate</em>)</li>
<li>other swaps with the same payoff on other asset types.</li>
</ul>
<p>Here is an example of an asset swap that pays AAPL total return vs 2.01% fix p.a., payment every 3M:</p>
<div class="highlight-daml notranslate"><div class="highlight"><pre><span></span><span class="w">  </span><span class="kr">let</span><span class="w"></span>
<span class="w">    </span><span class="n">issueDate</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">date</span><span class="w"> </span><span class="mi">2019</span><span class="w"> </span><span class="kt">Jan</span><span class="w"> </span><span class="mi">16</span><span class="w"></span>
<span class="w">    </span><span class="n">firstPaymentDate</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">date</span><span class="w"> </span><span class="mi">2019</span><span class="w"> </span><span class="kt">Feb</span><span class="w"> </span><span class="mi">15</span><span class="w"></span>
<span class="w">    </span><span class="n">maturityDate</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">date</span><span class="w"> </span><span class="mi">2019</span><span class="w"> </span><span class="kt">May</span><span class="w"> </span><span class="mi">15</span><span class="w"></span>
<span class="w">    </span><span class="n">referenceAssetId</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="s">&quot;AAPL-CLOSE-ADJ&quot;</span><span class="w"></span>
<span class="w">    </span><span class="n">issuerPaysFix</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kc">False</span><span class="w"></span>
<span class="w">    </span><span class="n">fixRate</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="mf">0.0201</span><span class="w"></span>
<span class="w">    </span><span class="n">paymentPeriod</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">M</span><span class="w"></span>
<span class="w">    </span><span class="n">paymentPeriodMultiplier</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="mi">3</span><span class="w"></span>
<span class="w">    </span><span class="n">dayCountConvention</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">Act360</span><span class="w"></span>
<span class="w">    </span><span class="n">businessDayConvention</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">ModifiedFollowing</span><span class="w"></span>
</pre></div>
</div>
<p>In our example, the issuer pays the asset leg of the swap.</p>
<p>One observable is required: <em>referenceAssetId</em>.
The template calculates the performance for each payment period using this observable.
Performance is calculated from the start date to the end date of each payment period.
The reference asset Observable needs to contain the appropriate type of fixings:</p>
<ul class="simple">
<li><em>unadjusted</em> fixings in case of a <em>price return</em> asset swap</li>
<li><em>adjusted</em> fixings in case of a <em>total return</em> asset swap</li>
</ul>
<p>Finally, we create the asset swap instrument:</p>
<div class="highlight-daml notranslate"><div class="highlight"><pre><span></span><span class="w">  </span><span class="n">cid</span><span class="w"> </span><span class="ow">&lt;-</span><span class="w"> </span><span class="n">toInterfaceContractId</span><span class="w"> </span><span class="o">&lt;$&gt;</span><span class="w"> </span><span class="n">submitMulti</span><span class="w"> </span><span class="p">[</span><span class="n">depository</span><span class="p">,</span><span class="w"> </span><span class="n">issuer</span><span class="p">]</span><span class="w"> </span><span class="kt">[]</span><span class="w"> </span><span class="kr">do</span><span class="w"></span>
<span class="w">    </span><span class="n">createCmd</span><span class="w"> </span><span class="kt">AssetSwap</span><span class="o">.</span><span class="kt">Instrument</span><span class="w"> </span><span class="kr">with</span><span class="w"> </span><span class="n">depository</span><span class="p">;</span><span class="w"> </span><span class="n">issuer</span><span class="p">;</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">Id</span><span class="w"> </span><span class="n">label</span><span class="p">;</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="s">&quot;0&quot;</span><span class="p">;</span><span class="w"> </span><span class="n">description</span><span class="p">;</span><span class="w"> </span><span class="n">observers</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">M</span><span class="o">.</span><span class="n">fromList</span><span class="w"> </span><span class="n">observers</span><span class="p">;</span><span class="w"> </span><span class="n">lastEventTimestamp</span><span class="p">;</span><span class="w"> </span><span class="n">periodicSchedule</span><span class="p">;</span><span class="w"> </span><span class="n">holidayCalendarIds</span><span class="p">;</span><span class="w"> </span><span class="n">calendarDataProvider</span><span class="p">;</span><span class="w"> </span><span class="n">dayCountConvention</span><span class="p">;</span><span class="w"> </span><span class="n">issuerPaysFix</span><span class="p">;</span><span class="w"> </span><span class="n">fixRate</span><span class="p">;</span><span class="w"> </span><span class="n">referenceAssetId</span><span class="p">;</span><span class="w"> </span><span class="n">currency</span><span class="w"></span>
</pre></div>
</div>
<p>Once the instrument is created, you can book a holding on it.
Since the issuer pays the asset leg, it means that the owner of the holding receives the asset leg (and pays the fix leg).</p>
</div>
</div>
<div class="section" id="frequently-asked-questions">
<h2>Frequently Asked Questions<a class="headerlink" href="#frequently-asked-questions" title="Permalink to this headline">¶</a></h2>
<div class="section" id="why-do-the-swaps-have-an-issuer">
<h3>Why do the swaps have an issuer?<a class="headerlink" href="#why-do-the-swaps-have-an-issuer" title="Permalink to this headline">¶</a></h3>
<p>In the case of bonds, the instrument has a well-defined issuer. This is not necessarily the case for swaps,
where two counterparties A and B swap the payments associated with each leg. However, in practice
one of the counterparties is often a swap dealer, who shares some of the characteristics of a bond issuer.
For the purpose of lifecycling in Daml Finance, we require one of the counterparties to take the role as issuer.
This counterparty will serve as calculation agent and provide the observables required to calculate the swap payments.</p>
</div>
</div>
</div>


              
            </div>
            
            
              <!-- Copyright (c) 2022 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved. -->
<!-- SPDX-License-Identifier: Apache-2.0 -->

<footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="bond-lifecycling.html" class="da-btn da-btn-label btn-prev" title="How to Lifecycle a Bond Instrument" accesskey="p" rel="prev">Previous</a>
      
      
        <a href="derivative-extension.html" class="da-btn da-btn-label btn-next" title="How To Use the Derivative Extension To Model Generic Instruments" accesskey="n" rel="next">Next</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        Copyright (c) 2022 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved. Any unauthorized use, duplication or distribution is strictly prohibited. &#34;Digital Asset&#34; and &#34;Daml&#34; are Registered in the U.S. Patent and Trademark Office.

    </p>
  </div> 

</footer>
            
          </div>
        </div>
      </div>
    </section>
  </div>

  <!-- Copyright (c) 2022 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved. -->
<!-- SPDX-License-Identifier: Apache-2.0 -->





  <script type="text/javascript">
    jQuery(function () {
      SphinxRtdTheme.Navigation.enable(true);
      });
  </script>


  
    
  
  <div id="inpageContent"></div>
  

</body>
</html>